function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=r.parcelRequire6330;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},r.parcelRequire6330=i),i.register("em0bs",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.defaultExpandOptions=e.exports.ContextParser=void 0,i("2EHcZ");var r=i("9sHSr"),n=i("h6hqV"),o=i("01VDl"),s=i("3JqYv"),a=i("6vLBM"),u=i("gIor8");class l{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validateContext=!e.skipValidation,this.expandContentTypeToBase=!!e.expandContentTypeToBase,this.remoteContextsDepthLimit=e.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in e)||!!e.redirectSchemaOrgHttps}static validateLanguage(e,t,r){if("string"!=typeof e)throw new n.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(e)}'`,r);if(!a.Util.REGEX_LANGUAGE_TAG.test(e)){if(t)throw new n.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(e)}'`,r);return!1}return!0}static validateDirection(e,t){if("string"!=typeof e)throw new n.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(e)}'`,n.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(e)){if(t)throw new n.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(e)}'`,n.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"==typeof r&&r["@reverse"]&&!r["@id"]){if("string"!=typeof r["@reverse"]||a.Util.isValidKeyword(r["@reverse"]))throw new n.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${r["@reverse"]}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);r["@id"]=r["@reverse"],a.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return e}expandPrefixedTerms(e,t){const r=e.getContextRaw();for(const o of Object.keys(r))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(o)<0&&!a.Util.isReservedInternalKeyword(o)){const i=r[o];if(a.Util.isPotentialKeyword(o)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(o)>=0&&("@type"!==o||"object"==typeof r[o]&&!r[o]["@protected"]&&"@set"!==r[o]["@container"]))throw new n.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${o} to ${JSON.stringify(i)}`,n.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(i))>=0)throw new n.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${o} to ${JSON.stringify(i)}`,n.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(i&&a.Util.isPotentialKeyword(a.Util.getContextValueId(i))&&!0===i["@prefix"])throw new n.ErrorCoded(`Tried to use keyword aliases as prefix: '${o}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(r[o]);){const n=r[o];let i=!1;if("string"==typeof n)r[o]=e.expandTerm(n,!0),i=i||n!==r[o];else{const s=n["@id"],u=n["@type"],l=!("@prefix"in n)||a.Util.isValidIri(o);if("@id"in n)null!=s&&"string"==typeof s&&(r[o]["@id"]=e.expandTerm(s,!0),i=i||s!==r[o]["@id"]);else if(!a.Util.isPotentialKeyword(o)&&l){const t=e.expandTerm(o,!0);t!==o&&(r[o]["@id"]=t,i=!0)}!u||"string"!=typeof u||"@vocab"===u||n["@container"]&&n["@container"]["@type"]||!l||(r[o]["@type"]=e.expandTerm(u,!0),t&&u===r[o]["@type"]&&(r[o]["@type"]=e.expandTerm(u,!1)),i=i||u!==r[o]["@type"])}if(!i)break}}}normalize(e,{processingMode:t,normalizeLanguageTags:r}){if(r||1===t)for(const t of Object.keys(e))if("@language"===t&&"string"==typeof e[t])e[t]=e[t].toLowerCase();else{const r=e[t];r&&"object"==typeof r&&"string"==typeof r["@language"]&&(r["@language"]=r["@language"].toLowerCase())}}containersToHash(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"==typeof r)if("string"==typeof r["@container"])r["@container"]={[r["@container"]]:!0};else if(Array.isArray(r["@container"])){const e={};for(const t of r["@container"])e[t]=!0;r["@container"]=e}}}applyScopedProtected(e,{processingMode:t}){if(t&&t>=1.1&&e["@protected"]){for(const t of Object.keys(e))if(!a.Util.isReservedInternalKeyword(t)&&!a.Util.isPotentialKeyword(t)&&!a.Util.isTermProtected(e,t)){const r=e[t];r&&"object"==typeof r?"@protected"in e[t]||(e[t]["@protected"]=!0):e[t]={"@id":r,"@protected":!0}}delete e["@protected"]}}validateKeywordRedefinitions(e,t,r){for(const o of Object.keys(t))if(a.Util.isTermProtected(e,o)){if("string"==typeof t[o]){const n=a.Util.isSimpleTermDefinitionPrefix(t[o],r);t[o]={"@id":t[o]},n&&(t[o]["@prefix"]=!0,e[o]["@prefix"]=!0)}const i=u(e[o]);t[o]["@protected"]=!0;if(i!==u(t[o]))throw new n.ErrorCoded(`Attempted to override the protected keyword ${o} from ${JSON.stringify(a.Util.getContextValueId(e[o]))} to ${JSON.stringify(a.Util.getContextValueId(t[o]))}`,n.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}}validate(e,{processingMode:t}){for(const r of Object.keys(e)){if(a.Util.isReservedInternalKeyword(r))continue;if(""===r)throw new n.ErrorCoded(`The empty term is not allowed, got: '${r}': '${JSON.stringify(e[r])}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);const o=e[r],i=typeof o;if(a.Util.isPotentialKeyword(r)){switch(r.substr(1)){case"vocab":if(null!==o&&"string"!==i)throw new n.ErrorCoded(`Found an invalid @vocab IRI: ${o}`,n.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==o&&"string"!==i)throw new n.ErrorCoded(`Found an invalid @base IRI: ${e[r]}`,n.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==o&&l.validateLanguage(o,!0,n.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==o&&"number"!==i)throw new n.ErrorCoded(`Found an invalid @version number: ${o}`,n.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==o&&l.validateDirection(o,!0);break;case"propagate":if(1===t)throw new n.ErrorCoded(`Found an illegal @propagate keyword: ${o}`,n.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==o&&"boolean"!==i)throw new n.ErrorCoded(`Found an invalid @propagate value: ${o}`,n.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(a.Util.isValidKeyword(r)&&a.Util.isValidKeyword(a.Util.getContextValueId(o)))throw new n.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${a.Util.getContextValueId(o)}'`,n.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==o)switch(i){case"string":if(a.Util.getPrefix(o,e)===r)throw new n.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(o)}'`,n.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(r)){if("@type"===o)throw new n.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${o}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(o)&&o!==new s.JsonLdContextNormalized(e).expandTerm(r))throw new n.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${o}'`,n.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!(a.Util.isCompactIri(r)||"@id"in o||("@id"===o["@type"]?e["@base"]:e["@vocab"])))throw new n.ErrorCoded(`Missing @id in context entry: '${r}': '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);for(const u of Object.keys(o)){const c=o[u];if(c)switch(u){case"@id":if(a.Util.isValidKeyword(c)&&"@type"!==c&&"@id"!==c&&"@graph"!==c)throw new n.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(r)){if("@type"===c)throw new n.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(c)&&c!==new s.JsonLdContextNormalized(e).expandTerm(r))throw new n.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!=typeof c)throw new n.ErrorCoded(`Detected non-string @id in context entry: '${r}': '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(c,e)===r)throw new n.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(o)}'`,n.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===o["@container"]&&"@id"!==c&&"@vocab"!==c)throw new n.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${r}': '${c}'`,n.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!=typeof c)throw new n.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_TYPE_MAPPING);if(!("@id"===c||"@vocab"===c||1!==t&&"@json"===c||1!==t&&"@none"===c||"_"!==c[0]&&a.Util.isValidIri(c)))throw new n.ErrorCoded(`A context @type must be an absolute IRI, found: '${r}': '${c}'`,n.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"==typeof c&&o["@id"]&&o["@id"]!==c)throw new n.ErrorCoded(`Found non-matching @id and @reverse term values in '${r}':'${c}' and '${o["@id"]}'`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in o)throw new n.ErrorCoded(`@nest is not allowed in the reverse property '${r}'`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===t&&(Object.keys(c).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(c)[0])<0))throw new n.ErrorCoded(`Invalid term @container for '${r}' ('${Object.keys(c)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,n.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const e of Object.keys(c)){if("@list"===e&&o["@reverse"])throw new n.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${r}'`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(e)<0)throw new n.ErrorCoded(`Invalid term @container for '${r}' ('${e}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,n.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":l.validateLanguage(c,!0,n.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":l.validateDirection(c,!0);break;case"@prefix":if(null!==c&&"boolean"!=typeof c)throw new n.ErrorCoded(`Found an invalid term @prefix boolean in: '${r}': '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in o)&&!a.Util.isValidIri(r))throw new n.ErrorCoded(`Invalid @prefix definition for '${r}' ('${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===t||!o["@container"]||!o["@container"]["@index"])throw new n.ErrorCoded(`Attempt to add illegal key to value object: '${r}': '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(c)&&"@nest"!==c)throw new n.ErrorCoded(`Found an invalid term @nest value in: '${r}': '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new n.ErrorCoded(`Found an invalid term value: '${r}': '${o}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(e,t,n){return"string"==typeof e||(n&&!("@base"in e)&&t.parentContext&&"object"==typeof t.parentContext&&"@base"in t.parentContext&&(e["@base"]=t.parentContext["@base"],t.parentContext["@__baseDocument"]&&(e["@__baseDocument"]=!0)),t.baseIRI&&!t.external&&("@base"in e?null===e["@base"]||"string"!=typeof e["@base"]||a.Util.isValidIri(e["@base"])||(e["@base"]=(0,r.resolve)(e["@base"],t.parentContext&&t.parentContext["@base"]||t.baseIRI)):(e["@base"]=t.baseIRI,e["@__baseDocument"]=!0))),e}normalizeContextIri(e,t){if(!a.Util.isValidIri(e))try{e=(0,r.resolve)(e,t)}catch(t){throw new Error(`Invalid context IRI: ${e}`)}return this.redirectSchemaOrgHttps&&e.startsWith("http://schema.org")&&(e="https://schema.org/"),e}async parseInnerContexts(e,t){for(const r of Object.keys(e)){const o=e[r];if(o&&"object"==typeof o&&"@context"in o&&null!==o["@context"]&&!t.ignoreScopedContexts){if(this.validateContext)try{const n=Object.assign({},e);n[r]=Object.assign({},n[r]),delete n[r]["@context"],await this.parse(o["@context"],Object.assign(Object.assign({},t),{external:!1,parentContext:n,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(e){throw new n.ErrorCoded(e.message,n.ERROR_CODES.INVALID_SCOPED_CONTEXT)}o["@context"]=(await this.parse(o["@context"],Object.assign(Object.assign({},t),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:e}))).getContextRaw()}}return e}async parse(t,r={}){const{baseIRI:o,parentContext:i,external:u,processingMode:c=l.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:f,ignoreProtection:p,minimalProcessing:h}=r;let d=i;const y=r.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new n.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),n.ERROR_CODES.CONTEXT_OVERFLOW);if(null==t){if(!p&&d&&a.Util.hasProtectedTerms(d))throw new n.ErrorCoded("Illegal context nullification when terms are protected",n.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new s.JsonLdContextNormalized(this.applyBaseEntry({},r,!1))}if("string"==typeof t){const e=this.normalizeContextIri(t,o),n=this.getOverriddenLoad(e,r);if(n)return new s.JsonLdContextNormalized(n);const i=await this.parse(await this.load(e),Object.assign(Object.assign({},r),{baseIRI:e,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[e]:!0})}));return this.applyBaseEntry(i.getContextRaw(),r,!0),i}if(Array.isArray(t)){const e=[],n=await Promise.all(t.map(((t,n)=>{if("string"==typeof t){const i=this.normalizeContextIri(t,o);e[n]=i;const s=this.getOverriddenLoad(i,r);return s||this.load(i)}return t})));if(h)return new s.JsonLdContextNormalized(n);const i=await n.reduce(((t,n,o)=>t.then((t=>this.parse(n,Object.assign(Object.assign({},r),{baseIRI:e[o]||r.baseIRI,external:!!e[o]||r.external,parentContext:t.getContextRaw(),remoteContexts:e[o]?Object.assign(Object.assign({},y),{[e[o]]:!0}):y}))))),Promise.resolve(new s.JsonLdContextNormalized(d||{})));return this.applyBaseEntry(i.getContextRaw(),r,!0),i}if("object"==typeof t){if("@context"in t)return await this.parse(t["@context"],r);t=JSON.parse(JSON.stringify(t)),d&&!h&&(d=JSON.parse(JSON.stringify(d)));let i={};if(u&&delete t["@base"],this.applyBaseEntry(t,r,!0),this.containersToHash(t),h)return new s.JsonLdContextNormalized(t);let a={};if("@import"in t){if(!(c>=1.1))throw new n.ErrorCoded("Context importing is not supported in JSON-LD 1.0",n.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!=typeof t["@import"])throw new n.ErrorCoded("An @import value must be a string, but got "+typeof t["@import"],n.ERROR_CODES.INVALID_IMPORT_VALUE);a=await this.loadImportContext(this.normalizeContextIri(t["@import"],o)),delete t["@import"]}i=Object.assign(Object.assign(Object.assign(Object.assign({},i),"object"==typeof d?d:{}),a),t);const y=new s.JsonLdContextNormalized(i);return await this.parseInnerContexts(i,r),(i&&i["@version"]||l.DEFAULT_PROCESSING_MODE)>=1.1&&(t["@vocab"]&&"string"==typeof t["@vocab"]||""===t["@vocab"])&&t["@vocab"].indexOf(":")<0&&d&&"@vocab"in d&&(i["@vocab"]=d["@vocab"]+t["@vocab"]),this.idifyReverseTerms(i),this.expandPrefixedTerms(y,this.expandContentTypeToBase),!p&&d&&c>=1.1&&this.validateKeywordRedefinitions(d,i,e.exports.defaultExpandOptions),this.normalize(i,{processingMode:c,normalizeLanguageTags:f}),this.applyScopedProtected(i,{processingMode:c}),this.validateContext&&this.validate(i,{processingMode:c}),y}throw new n.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${t}`,n.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(e){const t=this.documentCache[e];if(t)return"string"==typeof t?t:Array.isArray(t)?t.slice():Object.assign({},t);let r;try{r=await this.documentLoader.load(e)}catch(t){throw new n.ErrorCoded(`Failed to load remote context ${e}: ${t.message}`,n.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new n.ErrorCoded(`Missing @context in remote context at ${e}`,n.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[e]=r["@context"]}getOverriddenLoad(e,t){if(e in(t.remoteContexts||{})){if(t.ignoreRemoteScopedContexts)return e;throw new n.ErrorCoded("Detected a cyclic context inclusion of "+e,n.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(e){const t=await this.load(e);if("object"!=typeof t||Array.isArray(t))throw new n.ErrorCoded("An imported context must be a single object: "+e,n.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in t)throw new n.ErrorCoded("An imported context can not import another context: "+e,n.ERROR_CODES.INVALID_CONTEXT_ENTRY);return this.containersToHash(t),t}}e.exports.ContextParser=l,l.DEFAULT_PROCESSING_MODE=1.1,e.exports.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}})),i.register("2EHcZ",(function(e,t){var r;r="undefined"!=typeof self?self:e.exports,function(e){var t="URLSearchParams"in r,n="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in r,s="ArrayBuffer"in r;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var r;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,r,n=h(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=d(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=l(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},p.prototype.delete=function(e){delete this.map[l(e)]},p.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},p.prototype.set=function(e,t){this.map[l(e)]=c(t)},p.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),f(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),f(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var r,n,o=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),w.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function x(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];E.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.DOMException=r.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function I(t,r){return new Promise((function(n,i){var s=new v(t,r);if(s.signal&&s.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new E(o,r))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}I.polyfill=!0,r.fetch||(r.fetch=I,r.Headers=p,r.Request=v,r.Response=E),e.Headers=p,e.Request=v,e.Response=E,e.fetch=I,Object.defineProperty(e,"__esModule",{value:!0})}({})})),i.register("9sHSr",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),function(t){for(var r in t)e.exports.hasOwnProperty(r)||(e.exports[r]=t[r])}(i("fNuvZ"))})),i.register("fNuvZ",(function(e,t){function r(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case"/":if("."===e[r+1])if("."===e[r+2]){if(!o(e[r+3])){t.push([]),r++;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!o(e[r+2])){t.push([]),r++;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++}return"/"+t.map((e=>e.join(""))).join("/")}function n(e,t){let n=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(n=t+3):"/"===e[0]&&"/"===e[1]&&(n=2);const o=e.indexOf("/",n);if(o<0)return e;return e.substr(0,o)+r(e.substr(o))}function o(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.resolve=function(e,t){const o=(t=t||"").indexOf("#");if(o>0&&(t=t.substr(0,o)),!e.length){if(t.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);return t}if(e.startsWith("?")){const r=t.indexOf("?");return r>0&&(t=t.substr(0,r)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){const t=e.indexOf(":");if(t<0)throw new Error(`Found invalid relative IRI '${e}' for a missing baseIRI`);return n(e,t)}const i=e.indexOf(":");if(i>=0)return n(e,i);const s=t.indexOf(":");if(s<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const a=t.substr(0,s+1);if(0===e.indexOf("//"))return a+n(e,i);let u;if(t.indexOf("//",s)===s+1){if(u=t.indexOf("/",s+3),u<0)return t.length>s+3?t+"/"+n(e,i):a+n(e,i)}else if(u=t.indexOf("/",s+1),u<0)return a+n(e,i);if(0===e.indexOf("/"))return t.substr(0,u)+r(e);let l=t.substr(u);const c=l.lastIndexOf("/");return c>=0&&c<l.length-1&&(l=l.substr(0,c+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=r(e=l+e),t.substr(0,u)+e},e.exports.removeDotSegments=r,e.exports.removeDotSegmentsOfPath=n})),i.register("h6hqV",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ERROR_CODES=e.exports.ErrorCoded=void 0;class r extends Error{constructor(e,t){super(e),this.code=t}}var n;e.exports.ErrorCoded=r,(n=e.exports.ERROR_CODES||(e.exports.ERROR_CODES={})).COLLIDING_KEYWORDS="colliding keywords",n.CONFLICTING_INDEXES="conflicting indexes",n.CYCLIC_IRI_MAPPING="cyclic IRI mapping",n.INVALID_ID_VALUE="invalid @id value",n.INVALID_INDEX_VALUE="invalid @index value",n.INVALID_NEST_VALUE="invalid @nest value",n.INVALID_PREFIX_VALUE="invalid @prefix value",n.INVALID_PROPAGATE_VALUE="invalid @propagate value",n.INVALID_REVERSE_VALUE="invalid @reverse value",n.INVALID_IMPORT_VALUE="invalid @import value",n.INVALID_VERSION_VALUE="invalid @version value",n.INVALID_BASE_IRI="invalid base IRI",n.INVALID_CONTAINER_MAPPING="invalid container mapping",n.INVALID_CONTEXT_ENTRY="invalid context entry",n.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",n.INVALID_DEFAULT_LANGUAGE="invalid default language",n.INVALID_INCLUDED_VALUE="invalid @included value",n.INVALID_IRI_MAPPING="invalid IRI mapping",n.INVALID_JSON_LITERAL="invalid JSON literal",n.INVALID_KEYWORD_ALIAS="invalid keyword alias",n.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",n.INVALID_LANGUAGE_MAPPING="invalid language mapping",n.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",n.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",n.INVALID_LOCAL_CONTEXT="invalid local context",n.INVALID_REMOTE_CONTEXT="invalid remote context",n.INVALID_REVERSE_PROPERTY="invalid reverse property",n.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",n.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",n.INVALID_SCOPED_CONTEXT="invalid scoped context",n.INVALID_SCRIPT_ELEMENT="invalid script element",n.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",n.INVALID_TERM_DEFINITION="invalid term definition",n.INVALID_TYPE_MAPPING="invalid type mapping",n.INVALID_TYPE_VALUE="invalid type value",n.INVALID_TYPED_VALUE="invalid typed value",n.INVALID_VALUE_OBJECT="invalid value object",n.INVALID_VALUE_OBJECT_VALUE="invalid value object value",n.INVALID_VOCAB_MAPPING="invalid vocab mapping",n.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",n.KEYWORD_REDEFINITION="keyword redefinition",n.LOADING_DOCUMENT_FAILED="loading document failed",n.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",n.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",n.PROCESSING_MODE_CONFLICT="processing mode conflict",n.PROTECTED_TERM_REDEFINITION="protected term redefinition",n.CONTEXT_OVERFLOW="context overflow",n.INVALID_BASE_DIRECTION="invalid base direction",n.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",n.INVALID_STREAMING_KEY_ORDER="invalid streaming key order"})),i.register("01VDl",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.FetchDocumentLoader=void 0,i("2EHcZ");var r=i("h6hqV"),n=i("fg2Qa"),o=i("9sHSr");e.exports.FetchDocumentLoader=class{constructor(e){this.fetcher=e}async load(e){const t=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(t.ok&&t.headers){let i=t.headers.get("Content-Type");if(i){const e=i.indexOf(";");e>0&&(i=i.substr(0,e))}if("application/ld+json"===i)return await t.json();if(t.headers.has("Link")){let r;if(t.headers.forEach(((t,i)=>{if("link"===i){const i=(0,n.parse)(t);for(const t of i.get("type","application/ld+json"))if("alternate"===t.rel){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+e);r=(0,o.resolve)(t.uri,e)}}})),r)return this.load(r)}throw new r.ErrorCoded(`Unsupported JSON-LD media type ${i}`,r.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(t.statusText||`Status code: ${t.status}`)}}})),i.register("fg2Qa",(function(e,t){var r=i("lMEnf").Buffer,n=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,s=/\s|\uFEFF|\xA0/,a=/\r?\n[\x20\x09]+/g,u=/[;,"]/,l=/[;,"]|\s/,c=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,f=1,p=2,h=4;function d(e){return e.replace(o,"")}function y(e){return s.test(e)}function g(e,t){for(;y(e[t]);)t++;return t}function m(e){return l.test(e)||!c.test(e)}class w{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var t=[],r=e.toLowerCase(),n=0;n<this.refs.length;n++)this.refs[n].rel.toLowerCase()===r&&t.push(this.refs[n]);return t}get(e,t){e=e.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)this.refs[n][e]===t&&r.push(this.refs[n]);return r}set(e){return this.refs.push(e),this}has(e,t){e=e.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][e]===t)return!0;return!1}parse(e,t){e=d(e=(t=t||0)?e.slice(t):e).replace(a,"");for(var r=f,n=e.length,o=(t=0,null);t<n;)if(r===f){if(y(e[t])){t++;continue}if("<"!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);if(null!=o&&(null!=o.rel?this.refs.push(...w.expandRelations(o)):this.refs.push(o)),-1===(l=e.indexOf(">",t)))throw new Error("Expected end of URI delimiter at offset "+t);o={uri:e.slice(t+1,l)},t=l,r=p,t++}else if(r===p){if(y(e[t])){t++;continue}if(";"===e[t])r=h,t++;else{if(","!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);r=f,t++}}else{if(r!==h)throw new Error('Unknown parser state "'+r+'"');if(";"===e[t]||y(e[t])){t++;continue}if(-1===(l=e.indexOf("=",t)))throw new Error("Expected attribute delimiter at offset "+t);var i=d(e.slice(t,l)).toLowerCase(),s="";if('"'===e[t=g(e,t=l+1)])for(t++;t<n;){if('"'===e[t]){t++;break}"\\"===e[t]&&t++,s+=e[t],t++}else{for(var l=t+1;!u.test(e[l])&&l<n;)l++;s=e.slice(t,l),t=l}switch(o[i]&&w.isSingleOccurenceAttr(i)||("*"===i[i.length-1]?o[i]=w.parseExtendedValue(s):(s="type"===i?s.toLowerCase():s,null!=o[i]?Array.isArray(o[i])?o[i].push(s):o[i]=[o[i],s]:o[i]=s)),e[t]){case",":r=f;break;case";":r=h}t++}return null!=o&&(null!=o.rel?this.refs.push(...w.expandRelations(o)):this.refs.push(o)),o=null,this}toString(){for(var e=[],t="",r=null,n=0;n<this.refs.length;n++)r=this.refs[n],t=Object.keys(this.refs[n]).reduce((function(e,t){return"uri"===t?e:e+"; "+w.formatAttribute(t,r[t])}),"<"+r.uri+">"),e.push(t);return e.join(", ")}}w.isCompatibleEncoding=function(e){return n.test(e)},w.parse=function(e,t){return(new w).parse(e,t)},w.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},w.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},w.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},w.expandRelations=function(e){return e.rel.split(" ").map((function(t){var r=Object.assign({},e);return r.rel=t,r}))},w.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']*)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:w.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:w.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},w.formatExtendedAttribute=function(e,t){var n=(t.encoding||"utf-8").toUpperCase();return e+"="+n+"'"+(t.language||"en")+"'"+(r.isBuffer(t.value)&&w.isCompatibleEncoding(n)?t.value.toString(n):r.isBuffer(t.value)?t.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(t.value))},w.formatAttribute=function(e,t){return Array.isArray(t)?t.map((t=>w.formatAttribute(e,t))).join("; "):"*"===e[e.length-1]||"string"!=typeof t?w.formatExtendedAttribute(e,t):(w.isTokenAttr(e)?t=m(t)?'"'+w.escapeQuotes(t)+'"':w.escapeQuotes(t):m(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=w})),i.register("lMEnf",(function(t,r){var n,o;e(t.exports,"Buffer",(()=>n),(e=>n=e)),e(t.exports,"INSPECT_MAX_BYTES",(()=>o),(e=>o=e));var s=i("2Pflu"),a=i("d6fIT");const u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n=f,o=50;const l=2147483647;function c(e){if(e>l)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,f.prototype),t}function f(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return p(e,t,r)}function p(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!f.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|w(e,t);let n=c(r);const o=n.write(e,t);o!==r&&(n=n.slice(0,o));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Q(e,Uint8Array)){const t=new Uint8Array(e);return g(t.buffer,t.byteOffset,t.byteLength)}return y(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return g(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return g(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return f.from(n,t,r);const o=function(e){if(f.isBuffer(e)){const t=0|m(e.length),r=c(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Z(e.length)?c(0):y(e);if("Buffer"===e.type&&Array.isArray(e.data))return y(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return f.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return h(e),c(e<0?0:0|m(e))}function y(e){const t=e.length<0?0:0|m(e.length),r=c(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function g(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,f.prototype),n}function m(e){if(e>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return 0|e}function w(e,t){if(f.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(o)return n?-1:W(e).length;t=(""+t).toLowerCase(),o=!0}}function v(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return N(this,t,r);case"base64":return L(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function x(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function E(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=f.from(t,n)),f.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,o){let i,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let n=-1;for(i=r;i<a;i++)if(l(e,i)===l(t,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===u)return n*s}else-1!==n&&(i-=i-n),n=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){let r=!0;for(let n=0;n<u;n++)if(l(e,i+n)!==l(t,n)){r=!1;break}if(r)return i}return-1}function I(e,t,r,n){r=Number(r)||0;const o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=t.length;let s;for(n>i/2&&(n=i/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(Z(n))return s;e[r+s]=n}return s}function O(e,t,r,n){return Y(W(t,e.length-r),e,r,n)}function _(e,t,r,n){return Y(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function A(e,t,r,n){return Y(X(t),e,r,n)}function R(e,t,r,n){return Y(function(e,t){let r,n,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function L(e,t,r){return 0===t&&r===e.length?s.fromByteArray(e):s.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);const n=[];let o=t;for(;o<r;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(i=t);break;case 2:r=e[o+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(i=u));break;case 3:r=e[o+1],n=e[o+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:r=e[o+1],n=e[o+2],a=e[o+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=s}return function(e){const t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=S));return r}(n)}f.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(e,t,r){return p(e,t,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(e,t,r){return function(e,t,r){return h(e),e<=0?c(e):void 0!==t?"string"==typeof r?c(e).fill(t,r):c(e).fill(t):c(e)}(e,t,r)},f.allocUnsafe=function(e){return d(e)},f.allocUnsafeSlow=function(e){return d(e)},f.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==f.prototype},f.compare=function(e,t){if(Q(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=f.allocUnsafe(t);let o=0;for(r=0;r<e.length;++r){let t=e[r];if(Q(t,Uint8Array))o+t.length>n.length?(f.isBuffer(t)||(t=f.from(t)),t.copy(n,o)):Uint8Array.prototype.set.call(n,t,o);else{if(!f.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,o)}o+=t.length}return n},f.byteLength=w,f.prototype._isBuffer=!0,f.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)x(this,t,t+1);return this},f.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},f.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},f.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):v.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){let e="";const t=o;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},u&&(f.prototype[u]=f.prototype.inspect),f.prototype.compare=function(e,t,r,n,o){if(Q(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;let i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(i,s),u=this.slice(n,o),l=e.slice(t,r);for(let e=0;e<a;++e)if(u[e]!==l[e]){i=u[e],s=l[e];break}return i<s?-1:s<i?1:0},f.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},f.prototype.indexOf=function(e,t,r){return E(this,e,t,r,!0)},f.prototype.lastIndexOf=function(e,t,r){return E(this,e,t,r,!1)},f.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return I(this,e,t,r);case"utf8":case"utf-8":return O(this,e,t,r);case"ascii":case"latin1":case"binary":return _(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function C(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function N(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function D(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let o="";for(let n=t;n<r;++n)o+=ee[e[n]];return o}function P(e,t,r){const n=e.slice(t,r);let o="";for(let e=0;e<n.length-1;e+=2)o+=String.fromCharCode(n[e]+256*n[e+1]);return o}function j(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function $(e,t,r,n,o,i){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,o){z(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function B(e,t,r,n,o){z(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r+7]=i,i>>=8,e[r+6]=i,i>>=8,e[r+5]=i,i>>=8,e[r+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function M(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(e,t,r,n,o){return t=+t,r>>>=0,o||M(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function k(e,t,r,n,o){return t=+t,r>>>=0,o||M(e,0,r,8),a.write(e,t,r,n,52,8),r+8}f.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUintLE=f.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n},f.prototype.readUint8=f.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readBigUInt64LE=te((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),f.prototype.readBigUInt64BE=te((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),f.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},f.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let n=t,o=1,i=this[e+--n];for(;n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},f.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readBigInt64LE=te((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),f.prototype.readBigInt64BE=te((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),f.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),a.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),a.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),a.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),a.read(this,e,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){$(this,e,t,r,Math.pow(2,8*r)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){$(this,e,t,r,Math.pow(2,8*r)-1,0)}let o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},f.prototype.writeUint8=f.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,1,255,0),this[t]=255&e,t+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeBigUInt64LE=te((function(e,t=0){return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeBigUInt64BE=te((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);$(this,e,t,r,n-1,-n)}let o=0,i=1,s=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},f.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);$(this,e,t,r,n-1,-n)}let o=r-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},f.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},f.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeBigInt64LE=te((function(e,t=0){return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeBigInt64BE=te((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeFloatLE=function(e,t,r){return V(this,e,t,!0,r)},f.prototype.writeFloatBE=function(e,t,r){return V(this,e,t,!1,r)},f.prototype.writeDoubleLE=function(e,t,r){return k(this,e,t,!0,r)},f.prototype.writeDoubleBE=function(e,t,r){return k(this,e,t,!1,r)},f.prototype.copy=function(e,t,r,n){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},f.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{const i=f.isBuffer(e)?e:f.from(e,n),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=i[o%s]}return this};const F={};function G(e,t,r){F[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,o,i){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){J(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||K(t,e.length-(r+1))}(n,o,i)}function J(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,r){if(Math.floor(e)!==e)throw J(e,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}G("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),G("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),G("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=q(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=q(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function W(e,t){let r;t=t||1/0;const n=e.length;let o=null;const i=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function X(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const ee=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)t[n+o]=e[r]+e[o]}return t}();function te(e){return"undefined"==typeof BigInt?re:e}function re(){throw new Error("BigInt not supported")}})),i.register("2Pflu",(function(t,r){var n,o;e(t.exports,"toByteArray",(()=>n),(e=>n=e)),e(t.exports,"fromByteArray",(()=>o),(e=>o=e)),n=function(e){var t,r,n=f(e),o=n[0],i=n[1],u=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,i)),l=0,c=i>0?o-4:o;for(r=0;r<c;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===i&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===i&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},o=function(e){for(var t,r=e.length,n=r%3,o=[],s=16383,a=0,u=r-n;a<u;a+=s)o.push(p(e,a,a+s>u?u:a+s));1===n?(t=e[r-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=u.length;l<c;++l)i[l]=u[l],s[u.charCodeAt(l)]=l;function f(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function p(e,t,r){for(var n,o,s=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(i[(o=n)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63})),i.register("d6fIT",(function(t,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var n,o;e(t.exports,"read",(()=>n),(e=>n=e)),e(t.exports,"write",(()=>o),(e=>o=e)),n=function(e,t,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,l=u>>1,c=-7,f=r?o-1:0,p=r?-1:1,h=e[t+f];for(f+=p,i=h&(1<<-c)-1,h>>=-c,c+=a;c>0;i=256*i+e[t+f],f+=p,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=n;c>0;s=256*s+e[t+f],f+=p,c-=8);if(0===i)i=1-l;else{if(i===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),i-=l}return(h?-1:1)*s*Math.pow(2,i-n)},o=function(e,t,r,n,o,i){var s,a,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,d=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=c?(a=0,s=c):s+f>=1?(a=(t*u-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[r+h]=255&a,h+=d,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[r+h]=255&s,h+=d,s/=256,l-=8);e[r+h-d]|=128*y}})),i.register("3JqYv",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.JsonLdContextNormalized=void 0;var r=i("9sHSr"),n=i("em0bs"),o=i("h6hqV"),s=i("6vLBM");e.exports.JsonLdContextNormalized=class{constructor(e){this.contextRaw=e}getContextRaw(){return this.contextRaw}expandTerm(e,t,i=n.defaultExpandOptions){const a=this.contextRaw[e];if(null===a||a&&null===a["@id"])return null;let u=!0;if(a&&t){const t=s.Util.getContextValueId(a);if(t&&t!==e){if("string"==typeof t&&(s.Util.isValidIri(t)||s.Util.isValidKeyword(t)))return t;s.Util.isPotentialKeyword(t)||(u=!1)}}const l=s.Util.getPrefix(e,this.contextRaw),c=this.contextRaw["@vocab"],f=(!!c||""===c)&&c.indexOf(":")<0,p=this.contextRaw["@base"],h=s.Util.isPotentialKeyword(e);if(l){const t=this.contextRaw[l],r=s.Util.getContextValueId(t);if(r){if("string"!=typeof t&&i.allowPrefixForcing){if("_"!==r[0]&&!h&&!t["@prefix"]&&!(e in this.contextRaw))return e}else if(!s.Util.isSimpleTermDefinitionPrefix(r,i))return e;return r+e.substr(l.length+1)}}else{if(t&&(c||""===c||i.allowVocabRelativeToBase&&p&&f)&&!h&&!s.Util.isCompactIri(e)){if(f){if(i.allowVocabRelativeToBase)return(c||p?(0,r.resolve)(c,p):"")+e;throw new o.ErrorCoded(`Relative vocab expansion for term '${e}' with vocab '${c}' is not allowed.`,o.ERROR_CODES.INVALID_VOCAB_MAPPING)}return c+e}if(!t&&p&&!h&&!s.Util.isCompactIri(e))return(0,r.resolve)(e,p)}if(u)return e;throw new o.ErrorCoded(`Invalid IRI mapping found for context entry '${e}': '${JSON.stringify(a)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(e,t){if(t&&this.contextRaw["@vocab"]&&e.startsWith(this.contextRaw["@vocab"]))return e.substr(this.contextRaw["@vocab"].length);if(!t&&this.contextRaw["@base"]&&e.startsWith(this.contextRaw["@base"]))return e.substr(this.contextRaw["@base"].length);const r={prefix:"",suffix:e};for(const n in this.contextRaw){const o=this.contextRaw[n];if(o&&!s.Util.isPotentialKeyword(n)){const i=s.Util.getContextValueId(o);if(e.startsWith(i)){const o=e.substr(i.length);if(o)o.length<r.suffix.length&&(r.prefix=n,r.suffix=o);else if(t)return n}}}return r.prefix?r.prefix+":"+r.suffix:e}}})),i.register("6vLBM",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Util=void 0;class r{static isCompactIri(e){return e.indexOf(":")>0&&!(e&&"#"===e[0])}static getPrefix(e,t){if(e&&"#"===e[0])return null;const r=e.indexOf(":");if(r>=0){if(e.length>r+1&&"/"===e.charAt(r+1)&&"/"===e.charAt(r+2))return null;const n=e.substr(0,r);if("_"===n)return null;if(t[n])return n}return null}static getContextValueId(e){if(null===e||"string"==typeof e)return e;const t=e["@id"];return t||null}static isSimpleTermDefinitionPrefix(e,t){return!r.isPotentialKeyword(e)&&("_"===e[0]||t.allowPrefixNonGenDelims||r.isPrefixIriEndingWithGenDelim(e))}static isPotentialKeyword(e){return"string"==typeof e&&r.KEYWORD_REGEX.test(e)}static isPrefixIriEndingWithGenDelim(e){return r.ENDS_WITH_GEN_DELIM.test(e)}static isPrefixValue(e){return e&&("string"==typeof e||e&&"object"==typeof e)}static isValidIri(e){return Boolean(e&&r.IRI_REGEX.test(e))}static isValidIriWeak(e){return!!e&&":"!==e[0]&&r.IRI_REGEX_WEAK.test(e)}static isValidKeyword(e){return r.VALID_KEYWORDS[e]}static isTermProtected(e,t){const r=e[t];return!("string"==typeof r)&&r&&r["@protected"]}static hasProtectedTerms(e){for(const t of Object.keys(e))if(r.isTermProtected(e,t))return!0;return!1}static isReservedInternalKeyword(e){return e.startsWith("@__")}}e.exports.Util=r,r.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,r.IRI_REGEX_WEAK=/(?::[^:])|\//,r.KEYWORD_REGEX=/^@[a-z]+$/i,r.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,r.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,r.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,r.VALID_KEYWORDS={"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},r.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],r.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],r.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],r.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],r.CONTAINERS_1_0=["@list","@set","@index"]})),i.register("gIor8",(function(e,t){e.exports=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(((t,r,n)=>t+(0===n?"":",")+e(void 0===r||"symbol"==typeof r?null:r)),"")+"]":"{"+Object.keys(t).sort().reduce(((r,n,o)=>{if(void 0===t[n]||"symbol"==typeof t[n])return r;return r+(0===r.length?"":",")+e(n)+":"+e(t[n])}),"")+"}"}})),i.register("jVG1l",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})})),i.register("lMDCp",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})})),i.register("8RKLF",(function(e,t){var r=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e.exports&&e.exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return n(t,e),t};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.someSeries=e.exports.someLimit=e.exports.some=e.exports.reduce=e.exports.mapSeries=e.exports.mapLimit=e.exports.map=e.exports.forEachOfSeries=e.exports.forEachOfLimit=e.exports.forEachOf=e.exports.forEachSeries=e.exports.forEachLimit=e.exports.forEach=e.exports.findSeries=e.exports.findLimit=e.exports.find=e.exports.filterSeries=e.exports.filterLimit=e.exports.filter=e.exports.everySeries=e.exports.everyLimit=e.exports.every=void 0;const s=o(i("96JOj"));e.exports.every=new s.every,e.exports.everyLimit=new s.everyLimit,e.exports.everySeries=new s.everySeries,e.exports.filter=new s.filter,e.exports.filterLimit=new s.filterLimit,e.exports.filterSeries=new s.filterSeries,e.exports.find=new s.find,e.exports.findLimit=new s.findLimit,e.exports.findSeries=new s.findSeries,e.exports.forEach=new s.forEach,e.exports.forEachLimit=new s.forEachLimit,e.exports.forEachSeries=new s.forEachSeries,e.exports.forEachOf=new s.forEachOf,e.exports.forEachOfLimit=new s.forEachOfLimit,e.exports.forEachOfSeries=new s.forEachOfSeries,e.exports.map=new s.map,e.exports.mapLimit=new s.mapLimit,e.exports.mapSeries=new s.mapSeries,e.exports.reduce=new s.reduce,e.exports.some=new s.some,e.exports.someLimit=new s.someLimit,e.exports.someSeries=new s.someSeries})),i.register("96JOj",(function(e,t){var r=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e.exports&&e.exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return n(t,e),t};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.someSeries=e.exports.someLimit=e.exports.some=e.exports.reduceRight=e.exports.reduce=e.exports.mapSeries=e.exports.mapLimit=e.exports.map=e.exports.filterSeries=e.exports.filterLimit=e.exports.filter=e.exports.everySeries=e.exports.everyLimit=e.exports.every=e.exports.forEachOfSeries=e.exports.forEachOfLimit=e.exports.forEachOf=e.exports.forEachSeries=e.exports.forEachLimit=e.exports.forEach=e.exports.findSeries=e.exports.findLimit=e.exports.find=void 0;const s=o(i("aTBWN"));var a=i("kUcGy");e.exports.find=(0,a.iterableMethodsFactory)(s.detect),e.exports.findLimit=(0,a.iterableLimitMethodsFactory)(s.detectLimit),e.exports.findSeries=(0,a.iterableMethodsFactory)(s.detectSeries),e.exports.forEach=(0,a.iterableMethodsFactory)(s.each),e.exports.forEachLimit=(0,a.iterableLimitMethodsFactory)(s.eachLimit),e.exports.forEachSeries=(0,a.iterableMethodsFactory)(s.eachSeries),e.exports.forEachOf=(0,a.iterableEachOfMethodsFactory)(s.eachOf),e.exports.forEachOfLimit=(0,a.iterableEachOfLimitMethodsFactory)(s.eachOfLimit),e.exports.forEachOfSeries=(0,a.iterableEachOfMethodsFactory)(s.eachOfSeries),e.exports.every=(0,a.iterableMethodsFactory)(s.every),e.exports.everyLimit=(0,a.iterableLimitMethodsFactory)(s.everyLimit),e.exports.everySeries=(0,a.iterableMethodsFactory)(s.everySeries),e.exports.filter=(0,a.iterableMethodsFactory)(s.filter),e.exports.filterLimit=(0,a.iterableLimitMethodsFactory)(s.filterLimit),e.exports.filterSeries=(0,a.iterableMethodsFactory)(s.filterSeries),e.exports.map=(0,a.iterableMethodsFactory)(s.map),e.exports.mapLimit=(0,a.iterableLimitMethodsFactory)(s.mapLimit),e.exports.mapSeries=(0,a.iterableMethodsFactory)(s.mapSeries),e.exports.reduce=(0,a.iterableMemoMethodsFactory)(s.reduce),e.exports.reduceRight=(0,a.iterableMemoMethodsFactory)(s.reduceRight),e.exports.some=(0,a.iterableMethodsFactory)(s.some),e.exports.someLimit=(0,a.iterableLimitMethodsFactory)(s.someLimit),e.exports.someSeries=(0,a.iterableMethodsFactory)(s.someSeries)})),i.register("aTBWN",(function(t,r){var n;n=t.exports,Object.defineProperty(n,"__esModule",{value:!0,configurable:!0}),e(t.exports,"apply",(()=>s)),e(t.exports,"setImmediate",(()=>h)),e(t.exports,"asyncify",(()=>d)),e(t.exports,"eachOfLimit",(()=>T)),e(t.exports,"eachOf",(()=>N)),e(t.exports,"map",(()=>D)),e(t.exports,"applyEach",(()=>P)),e(t.exports,"eachOfSeries",(()=>j)),e(t.exports,"mapSeries",(()=>$)),e(t.exports,"applyEachSeries",(()=>U)),e(t.exports,"auto",(()=>V)),e(t.exports,"autoInject",(()=>z)),e(t.exports,"cargo",(()=>W)),e(t.exports,"cargoQueue",(()=>X)),e(t.exports,"reduce",(()=>Y)),e(t.exports,"seq",(()=>Q)),e(t.exports,"compose",(()=>Z)),e(t.exports,"mapLimit",(()=>ee)),e(t.exports,"concatLimit",(()=>te)),e(t.exports,"concat",(()=>re)),e(t.exports,"concatSeries",(()=>ne)),e(t.exports,"constant",(()=>oe)),e(t.exports,"detect",(()=>se)),e(t.exports,"detectLimit",(()=>ae)),e(t.exports,"detectSeries",(()=>ue)),e(t.exports,"dir",(()=>ce)),e(t.exports,"doWhilst",(()=>fe)),e(t.exports,"doUntil",(()=>pe)),e(t.exports,"each",(()=>de)),e(t.exports,"eachLimit",(()=>ye)),e(t.exports,"eachSeries",(()=>ge)),e(t.exports,"ensureAsync",(()=>me)),e(t.exports,"every",(()=>we)),e(t.exports,"everyLimit",(()=>ve)),e(t.exports,"everySeries",(()=>xe)),e(t.exports,"filter",(()=>Oe)),e(t.exports,"filterLimit",(()=>_e)),e(t.exports,"filterSeries",(()=>Ae)),e(t.exports,"forever",(()=>Re)),e(t.exports,"groupByLimit",(()=>Le)),e(t.exports,"groupBy",(()=>Te)),e(t.exports,"groupBySeries",(()=>Se)),e(t.exports,"log",(()=>Ce)),e(t.exports,"mapValuesLimit",(()=>Ne)),e(t.exports,"mapValues",(()=>De)),e(t.exports,"mapValuesSeries",(()=>Pe)),e(t.exports,"memoize",(()=>je)),e(t.exports,"nextTick",(()=>$e)),e(t.exports,"parallel",(()=>Be)),e(t.exports,"parallelLimit",(()=>Me)),e(t.exports,"queue",(()=>Ve)),e(t.exports,"priorityQueue",(()=>qe)),e(t.exports,"race",(()=>ze)),e(t.exports,"reduceRight",(()=>Je)),e(t.exports,"reflect",(()=>Ke)),e(t.exports,"reflectAll",(()=>He)),e(t.exports,"reject",(()=>Xe)),e(t.exports,"rejectLimit",(()=>Ye)),e(t.exports,"rejectSeries",(()=>Qe)),e(t.exports,"retry",(()=>et)),e(t.exports,"retryable",(()=>rt)),e(t.exports,"series",(()=>nt)),e(t.exports,"some",(()=>ot)),e(t.exports,"someLimit",(()=>it)),e(t.exports,"someSeries",(()=>st)),e(t.exports,"sortBy",(()=>at)),e(t.exports,"timeout",(()=>ut)),e(t.exports,"timesLimit",(()=>lt)),e(t.exports,"times",(()=>ct)),e(t.exports,"timesSeries",(()=>ft)),e(t.exports,"transform",(()=>pt)),e(t.exports,"tryEach",(()=>ht)),e(t.exports,"unmemoize",(()=>dt)),e(t.exports,"whilst",(()=>yt)),e(t.exports,"until",(()=>gt)),e(t.exports,"waterfall",(()=>mt)),e(t.exports,"default",(()=>wt)),e(t.exports,"all",(()=>we)),e(t.exports,"allLimit",(()=>ve)),e(t.exports,"allSeries",(()=>xe)),e(t.exports,"any",(()=>ot)),e(t.exports,"anyLimit",(()=>it)),e(t.exports,"anySeries",(()=>st)),e(t.exports,"find",(()=>se)),e(t.exports,"findLimit",(()=>ae)),e(t.exports,"findSeries",(()=>ue)),e(t.exports,"flatMap",(()=>re)),e(t.exports,"flatMapLimit",(()=>te)),e(t.exports,"flatMapSeries",(()=>ne)),e(t.exports,"forEach",(()=>de)),e(t.exports,"forEachSeries",(()=>ge)),e(t.exports,"forEachLimit",(()=>ye)),e(t.exports,"forEachOf",(()=>N)),e(t.exports,"forEachOfSeries",(()=>j)),e(t.exports,"forEachOfLimit",(()=>T)),e(t.exports,"inject",(()=>Y)),e(t.exports,"foldl",(()=>Y)),e(t.exports,"foldr",(()=>Je)),e(t.exports,"select",(()=>Oe)),e(t.exports,"selectLimit",(()=>_e)),e(t.exports,"selectSeries",(()=>Ae)),e(t.exports,"wrapSync",(()=>d)),e(t.exports,"during",(()=>yt)),e(t.exports,"doDuring",(()=>fe));var o=i("apZF2");function s(e,...t){return(...r)=>e(...t,...r)}function a(e){return function(...t){var r=t.pop();return e.call(this,t,r)}}var u="function"==typeof queueMicrotask&&queueMicrotask,l="function"==typeof setImmediate&&setImmediate,c="object"==typeof o&&"function"==typeof o.nextTick;function f(e){setTimeout(e,0)}function p(e){return(t,...r)=>e((()=>t(...r)))}var h=p(u?queueMicrotask:l?setImmediate:c?o.nextTick:f);function d(e){return m(e)?function(...t){const r=t.pop();return y(e.apply(this,t),r)}:a((function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}if(n&&"function"==typeof n.then)return y(n,r);r(null,n)}))}function y(e,t){return e.then((e=>{g(t,null,e)}),(e=>{g(t,e&&e.message?e:new Error(e))}))}function g(e,t,r){try{e(t,r)}catch(e){h((e=>{throw e}),e)}}function m(e){return"AsyncFunction"===e[Symbol.toStringTag]}function w(e){if("function"!=typeof e)throw new Error("expected a function");return m(e)?d(e):e}function v(e,t=e.length){if(!t)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[t-1]?e.apply(this,r):new Promise(((n,o)=>{r[t-1]=(e,...t)=>{if(e)return o(e);n(t.length>1?t:t[0])},e.apply(this,r)}))}}function x(e){return function(t,...r){return v((function(n){var o=this;return e(t,((e,t)=>{w(e).apply(o,r.concat(t))}),n)}))}}function E(e,t,r,n){t=t||[];var o=[],i=0,s=w(r);return e(t,((e,t,r)=>{var n=i++;s(e,((e,t)=>{o[n]=t,r(e)}))}),(e=>{n(e,o)}))}function b(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}const I={};function O(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}function _(e){if(b(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,n,o,i=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return i?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(i):(r=(t=e)?Object.keys(t):[],n=-1,o=r.length,function e(){var i=r[++n];return"__proto__"===i?e():n<o?{value:t[i],key:i}:null})}function A(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}function R(e,t,r,n){let o=!1,i=!1,s=!1,a=0,u=0;function l(){a>=t||s||o||(s=!0,e.next().then((({value:e,done:t})=>{if(!i&&!o){if(s=!1,t)return o=!0,void(a<=0&&n(null));a++,r(e,u,c),u++,l()}})).catch(f))}function c(e,t){if(a-=1,!i)return e?f(e):!1===e?(o=!0,void(i=!0)):t===I||o&&a<=0?(o=!0,n(null)):void l()}function f(e){i||(s=!1,o=!0,n(e))}l()}var L=e=>(t,r,n)=>{if(n=O(n),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return n(null);if("AsyncGenerator"===t[Symbol.toStringTag])return R(t,e,r,n);if(function(e){return"function"==typeof e[Symbol.asyncIterator]}(t))return R(t[Symbol.asyncIterator](),e,r,n);var o=_(t),i=!1,s=!1,a=0,u=!1;function l(e,t){if(!s)if(a-=1,e)i=!0,n(e);else if(!1===e)i=!0,s=!0;else{if(t===I||i&&a<=0)return i=!0,n(null);u||c()}}function c(){for(u=!0;a<e&&!i;){var t=o();if(null===t)return i=!0,void(a<=0&&n(null));a+=1,r(t.value,t.key,A(l))}u=!1}c()};var T=v((function(e,t,r,n){return L(t)(e,w(r),n)}),4);function S(e,t,r){r=O(r);var n=0,o=0,{length:i}=e,s=!1;function a(e,t){!1===e&&(s=!0),!0!==s&&(e?r(e):++o!==i&&t!==I||r(null))}for(0===i&&r(null);n<i;n++)t(e[n],n,A(a))}function C(e,t,r){return T(e,1/0,t,r)}var N=v((function(e,t,r){return(b(e)?S:C)(e,w(t),r)}),3);var D=v((function(e,t,r){return E(N,e,t,r)}),3),P=x(D);var j=v((function(e,t,r){return T(e,1,t,r)}),3);var $=v((function(e,t,r){return E(j,e,t,r)}),3),U=x($);const B=Symbol("promiseCallback");function M(){let e,t;function r(r,...n){if(r)return t(r);e(n.length>1?n:n[0])}return r[B]=new Promise(((r,n)=>{e=r,t=n})),r}function V(e,t,r){"number"!=typeof t&&(r=t,t=null),r=O(r||M());var n=Object.keys(e).length;if(!n)return r(null);t||(t=n);var o={},i=0,s=!1,a=!1,u=Object.create(null),l=[],c=[],f={};function p(e,t){l.push((()=>function(e,t){if(a)return;var n=A(((t,...n)=>{if(i--,!1!==t)if(n.length<2&&([n]=n),t){var l={};if(Object.keys(o).forEach((e=>{l[e]=o[e]})),l[e]=n,a=!0,u=Object.create(null),s)return;r(t,l)}else o[e]=n,(u[e]||[]).forEach((e=>e())),h();else s=!0}));i++;var l=w(t[t.length-1]);t.length>1?l(o,n):l(n)}(e,t)))}function h(){if(!s){if(0===l.length&&0===i)return r(null,o);for(;l.length&&i<t;){l.shift()()}}}function d(t){var r=[];return Object.keys(e).forEach((n=>{const o=e[n];Array.isArray(o)&&o.indexOf(t)>=0&&r.push(n)})),r}return Object.keys(e).forEach((t=>{var r=e[t];if(!Array.isArray(r))return p(t,[r]),void c.push(t);var n=r.slice(0,r.length-1),o=n.length;if(0===o)return p(t,r),void c.push(t);f[t]=o,n.forEach((i=>{if(!e[i])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+i+"` in "+n.join(", "));!function(e,t){var r=u[e];r||(r=u[e]=[]);r.push(t)}(i,(()=>{0===--o&&p(t,r)}))}))})),function(){var e,t=0;for(;c.length;)e=c.pop(),t++,d(e).forEach((e=>{0==--f[e]&&c.push(e)}));if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),h(),r[B]}var k=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,F=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,G=/,/,q=/(=.+)?(\s*)$/;function z(e,t){var r={};return Object.keys(e).forEach((t=>{var n,o=e[t],i=m(o),s=!i&&1===o.length||i&&0===o.length;if(Array.isArray(o))n=[...o],o=n.pop(),r[t]=n.concat(n.length>0?a:o);else if(s)r[t]=o;else{if(n=function(e){const t=function(e){let t="",r=0,n=e.indexOf("*/");for(;r<e.length;)if("/"===e[r]&&"/"===e[r+1]){let t=e.indexOf("\n",r);r=-1===t?e.length:t}else if(-1!==n&&"/"===e[r]&&"*"===e[r+1]){let o=e.indexOf("*/",r);-1!==o?(r=o+2,n=e.indexOf("*/",r)):(t+=e[r],r++)}else t+=e[r],r++;return t}(e.toString());let r=t.match(k);if(r||(r=t.match(F)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,n]=r;return n.replace(/\s/g,"").split(G).map((e=>e.replace(q,"").trim()))}(o),0===o.length&&!i&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");i||n.pop(),r[t]=n.concat(a)}function a(e,t){var r=n.map((t=>e[t]));r.push(t),w(o)(...r)}})),V(r,t)}class J{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):K(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):K(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:r}=t;e(t)&&this.removeLink(t),t=r}return this}}function K(e,t){e.length=1,e.head=e.tail=t}function H(e,t,r){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var n=w(e),o=0,i=[];const s={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function a(e,t){return e?t?void(s[e]=s[e].filter((e=>e!==t))):s[e]=[]:Object.keys(s).forEach((e=>s[e]=[]))}function u(e,...t){s[e].forEach((e=>e(...t)))}var l=!1;function c(e,t,r,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");var o,i;function s(e,...t){return e?r?i(e):o():t.length<=1?o(t[0]):void o(t)}g.started=!0;var a=g._createTaskItem(e,r?s:n||s);if(t?g._tasks.unshift(a):g._tasks.push(a),l||(l=!0,h((()=>{l=!1,g.process()}))),r||!n)return new Promise(((e,t)=>{o=e,i=t}))}function f(e){return function(t,...r){o-=1;for(var n=0,s=e.length;n<s;n++){var a=e[n],l=i.indexOf(a);0===l?i.shift():l>0&&i.splice(l,1),a.callback(t,...r),null!=t&&u("error",t,a.data)}o<=g.concurrency-g.buffer&&u("unsaturated"),g.idle()&&u("drain"),g.process()}}function p(e){return!(0!==e.length||!g.idle())&&(h((()=>u("drain"))),!0)}const d=e=>t=>{if(!t)return new Promise(((t,r)=>{!function(e,t){const r=(...n)=>{a(e,r),t(...n)};s[e].push(r)}(e,((e,n)=>{if(e)return r(e);t(n)}))}));a(e),function(e,t){s[e].push(t)}(e,t)};var y=!1,g={_tasks:new J,_createTaskItem:(e,t)=>({data:e,callback:t}),*[Symbol.iterator](){yield*g._tasks[Symbol.iterator]()},concurrency:t,payload:r,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(p(e))return;return e.map((e=>c(e,!1,!1,t)))}return c(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(p(e))return;return e.map((e=>c(e,!1,!0,t)))}return c(e,!1,!0,t)},kill(){a(),g._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(p(e))return;return e.map((e=>c(e,!0,!1,t)))}return c(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(p(e))return;return e.map((e=>c(e,!0,!0,t)))}return c(e,!0,!0,t)},remove(e){g._tasks.remove(e)},process(){if(!y){for(y=!0;!g.paused&&o<g.concurrency&&g._tasks.length;){var e=[],t=[],r=g._tasks.length;g.payload&&(r=Math.min(r,g.payload));for(var s=0;s<r;s++){var a=g._tasks.shift();e.push(a),i.push(a),t.push(a.data)}o+=1,0===g._tasks.length&&u("empty"),o===g.concurrency&&u("saturated");var l=A(f(e));n(t,l)}y=!1}},length:()=>g._tasks.length,running:()=>o,workersList:()=>i,idle:()=>g._tasks.length+o===0,pause(){g.paused=!0},resume(){!1!==g.paused&&(g.paused=!1,h(g.process))}};return Object.defineProperties(g,{saturated:{writable:!1,value:d("saturated")},unsaturated:{writable:!1,value:d("unsaturated")},empty:{writable:!1,value:d("empty")},drain:{writable:!1,value:d("drain")},error:{writable:!1,value:d("error")}}),g}function W(e,t){return H(e,1,t)}function X(e,t,r){return H(e,t,r)}var Y=v((function(e,t,r,n){n=O(n);var o=w(r);return j(e,((e,r,n)=>{o(t,e,((e,r)=>{t=r,n(e)}))}),(e=>n(e,t)))}),4);function Q(...e){var t=e.map(w);return function(...e){var r=this,n=e[e.length-1];return"function"==typeof n?e.pop():n=M(),Y(t,e,((e,t,n)=>{t.apply(r,e.concat(((e,...t)=>{n(e,t)})))}),((e,t)=>n(e,...t))),n[B]}}function Z(...e){return Q(...e.reverse())}var ee=v((function(e,t,r,n){return E(L(t),e,r,n)}),4);var te=v((function(e,t,r,n){var o=w(r);return ee(e,t,((e,t)=>{o(e,((e,...r)=>e?t(e):t(e,r)))}),((e,t)=>{for(var r=[],o=0;o<t.length;o++)t[o]&&(r=r.concat(...t[o]));return n(e,r)}))}),4);var re=v((function(e,t,r){return te(e,1/0,t,r)}),3);var ne=v((function(e,t,r){return te(e,1,t,r)}),3);function oe(...e){return function(...t){return t.pop()(null,...e)}}function ie(e,t){return(r,n,o,i)=>{var s,a=!1;const u=w(o);r(n,((r,n,o)=>{u(r,((n,i)=>n||!1===n?o(n):e(i)&&!s?(a=!0,s=t(!0,r),o(null,I)):void o()))}),(e=>{if(e)return i(e);i(null,a?s:t(!1))}))}}var se=v((function(e,t,r){return ie((e=>e),((e,t)=>t))(N,e,t,r)}),3);var ae=v((function(e,t,r,n){return ie((e=>e),((e,t)=>t))(L(t),e,r,n)}),4);var ue=v((function(e,t,r){return ie((e=>e),((e,t)=>t))(L(1),e,t,r)}),3);function le(e){return(t,...r)=>w(t)(...r,((t,...r)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&r.forEach((t=>console[e](t))))}))}var ce=le("dir");var fe=v((function(e,t,r){r=A(r);var n,o=w(e),i=w(t);function s(e,...t){if(e)return r(e);!1!==e&&(n=t,i(...t,a))}function a(e,t){return e?r(e):!1!==e?t?void o(s):r(null,...n):void 0}return a(null,!0)}),3);function pe(e,t,r){const n=w(t);return fe(e,((...e)=>{const t=e.pop();n(...e,((e,r)=>t(e,!r)))}),r)}function he(e){return(t,r,n)=>e(t,n)}var de=v((function(e,t,r){return N(e,he(w(t)),r)}),3);var ye=v((function(e,t,r,n){return L(t)(e,he(w(r)),n)}),4);var ge=v((function(e,t,r){return ye(e,1,t,r)}),3);function me(e){return m(e)?e:function(...t){var r=t.pop(),n=!0;t.push(((...e)=>{n?h((()=>r(...e))):r(...e)})),e.apply(this,t),n=!1}}var we=v((function(e,t,r){return ie((e=>!e),(e=>!e))(N,e,t,r)}),3);var ve=v((function(e,t,r,n){return ie((e=>!e),(e=>!e))(L(t),e,r,n)}),4);var xe=v((function(e,t,r){return ie((e=>!e),(e=>!e))(j,e,t,r)}),3);function Ee(e,t,r,n){var o=new Array(t.length);e(t,((e,t,n)=>{r(e,((e,r)=>{o[t]=!!r,n(e)}))}),(e=>{if(e)return n(e);for(var r=[],i=0;i<t.length;i++)o[i]&&r.push(t[i]);n(null,r)}))}function be(e,t,r,n){var o=[];e(t,((e,t,n)=>{r(e,((r,i)=>{if(r)return n(r);i&&o.push({index:t,value:e}),n(r)}))}),(e=>{if(e)return n(e);n(null,o.sort(((e,t)=>e.index-t.index)).map((e=>e.value)))}))}function Ie(e,t,r,n){return(b(t)?Ee:be)(e,t,w(r),n)}var Oe=v((function(e,t,r){return Ie(N,e,t,r)}),3);var _e=v((function(e,t,r,n){return Ie(L(t),e,r,n)}),4);var Ae=v((function(e,t,r){return Ie(j,e,t,r)}),3);var Re=v((function(e,t){var r=A(t),n=w(me(e));return function e(t){if(t)return r(t);!1!==t&&n(e)}()}),2);var Le=v((function(e,t,r,n){var o=w(r);return ee(e,t,((e,t)=>{o(e,((r,n)=>r?t(r):t(r,{key:n,val:e})))}),((e,t)=>{for(var r={},{hasOwnProperty:o}=Object.prototype,i=0;i<t.length;i++)if(t[i]){var{key:s}=t[i],{val:a}=t[i];o.call(r,s)?r[s].push(a):r[s]=[a]}return n(e,r)}))}),4);function Te(e,t,r){return Le(e,1/0,t,r)}function Se(e,t,r){return Le(e,1,t,r)}var Ce=le("log");var Ne=v((function(e,t,r,n){n=O(n);var o={},i=w(r);return L(t)(e,((e,t,r)=>{i(e,t,((e,n)=>{if(e)return r(e);o[t]=n,r(e)}))}),(e=>n(e,o)))}),4);function De(e,t,r){return Ne(e,1/0,t,r)}function Pe(e,t,r){return Ne(e,1,t,r)}function je(e,t=(e=>e)){var r=Object.create(null),n=Object.create(null),o=w(e),i=a(((e,i)=>{var s=t(...e);s in r?h((()=>i(null,...r[s]))):s in n?n[s].push(i):(n[s]=[i],o(...e,((e,...t)=>{e||(r[s]=t);var o=n[s];delete n[s];for(var i=0,a=o.length;i<a;i++)o[i](e,...t)})))}));return i.memo=r,i.unmemoized=e,i}var $e=p(c?o.nextTick:l?setImmediate:f),Ue=v(((e,t,r)=>{var n=b(t)?[]:{};e(t,((e,t,r)=>{w(e)(((e,...o)=>{o.length<2&&([o]=o),n[t]=o,r(e)}))}),(e=>r(e,n)))}),3);function Be(e,t){return Ue(N,e,t)}function Me(e,t,r){return Ue(L(t),e,r)}function Ve(e,t){var r=w(e);return H(((e,t)=>{r(e[0],t)}),t,1)}class ke{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&Ge(this.heap[e],this.heap[t=Fe(e)]);){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}percDown(e){let t;for(;(t=1+(e<<1))<this.heap.length&&(t+1<this.heap.length&&Ge(this.heap[t+1],this.heap[t])&&(t+=1),!Ge(this.heap[e],this.heap[t]));){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let r=0;r<this.heap.length;r++)e(this.heap[r])||(this.heap[t]=this.heap[r],t++);this.heap.splice(t);for(let e=Fe(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}function Fe(e){return(e+1>>1)-1}function Ge(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function qe(e,t){var r=Ve(e,t),{push:n,pushAsync:o}=r;function i(e,t){return Array.isArray(e)?e.map((e=>({data:e,priority:t}))):{data:e,priority:t}}return r._tasks=new ke,r._createTaskItem=({data:e,priority:t},r)=>({data:e,priority:t,callback:r}),r.push=function(e,t=0,r){return n(i(e,t),r)},r.pushAsync=function(e,t=0,r){return o(i(e,t),r)},delete r.unshift,delete r.unshiftAsync,r}var ze=v((function(e,t){if(t=O(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)w(e[r])(t)}),2);function Je(e,t,r,n){var o=[...e].reverse();return Y(o,t,r,n)}function Ke(e){var t=w(e);return a((function(e,r){return e.push(((e,...t)=>{let n={};if(e&&(n.error=e),t.length>0){var o=t;t.length<=1&&([o]=t),n.value=o}r(null,n)})),t.apply(this,e)}))}function He(e){var t;return Array.isArray(e)?t=e.map(Ke):(t={},Object.keys(e).forEach((r=>{t[r]=Ke.call(this,e[r])}))),t}function We(e,t,r,n){const o=w(r);return Ie(e,t,((e,t)=>{o(e,((e,r)=>{t(e,!r)}))}),n)}var Xe=v((function(e,t,r){return We(N,e,t,r)}),3);var Ye=v((function(e,t,r,n){return We(L(t),e,r,n)}),4);var Qe=v((function(e,t,r){return We(j,e,t,r)}),3);function Ze(e){return function(){return e}}function et(e,t,r){var n={times:5,intervalFunc:Ze(0)};if(arguments.length<3&&"function"==typeof e?(r=t||M(),t=e):(tt(n,e),r=r||M()),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var o=w(t),i=1;function s(){o(((e,...t)=>{!1!==e&&(e&&i++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(e))?setTimeout(s,n.intervalFunc(i-1)):r(e,...t))}))}return s(),r[B]}function tt(e,t){if("object"==typeof t)e.times=+t.times||5,e.intervalFunc="function"==typeof t.interval?t.interval:Ze(+t.interval||0),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||5}}function rt(e,t){t||(t=e,e=null);let r=e&&e.arity||t.length;m(t)&&(r+=1);var n=w(t);return a(((t,o)=>{function i(e){n(...t,e)}return(t.length<r-1||null==o)&&(t.push(o),o=M()),e?et(e,i,o):et(i,o),o[B]}))}function nt(e,t){return Ue(j,e,t)}var ot=v((function(e,t,r){return ie(Boolean,(e=>e))(N,e,t,r)}),3);var it=v((function(e,t,r,n){return ie(Boolean,(e=>e))(L(t),e,r,n)}),4);var st=v((function(e,t,r){return ie(Boolean,(e=>e))(j,e,t,r)}),3);var at=v((function(e,t,r){var n=w(t);return D(e,((e,t)=>{n(e,((r,n)=>{if(r)return t(r);t(r,{value:e,criteria:n})}))}),((e,t)=>{if(e)return r(e);r(null,t.sort(o).map((e=>e.value)))}));function o(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}}),3);function ut(e,t,r){var n=w(e);return a(((o,i)=>{var s,a=!1;o.push(((...e)=>{a||(i(...e),clearTimeout(s))})),s=setTimeout((function(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),a=!0,i(n)}),t),n(...o)}))}function lt(e,t,r,n){var o=w(r);return ee(function(e){for(var t=Array(e);e--;)t[e]=e;return t}(e),t,o,n)}function ct(e,t,r){return lt(e,1/0,t,r)}function ft(e,t,r){return lt(e,1,t,r)}function pt(e,t,r,n){arguments.length<=3&&"function"==typeof t&&(n=r,r=t,t=Array.isArray(e)?[]:{}),n=O(n||M());var o=w(r);return N(e,((e,r,n)=>{o(t,e,r,n)}),(e=>n(e,t))),n[B]}var ht=v((function(e,t){var r,n=null;return ge(e,((e,t)=>{w(e)(((e,...o)=>{if(!1===e)return t(e);o.length<2?[r]=o:r=o,n=e,t(e?null:{})}))}),(()=>t(n,r)))}));function dt(e){return(...t)=>(e.unmemoized||e)(...t)}var yt=v((function(e,t,r){r=A(r);var n=w(t),o=w(e),i=[];function s(e,...t){if(e)return r(e);i=t,!1!==e&&o(a)}function a(e,t){return e?r(e):!1!==e?t?void n(s):r(null,...i):void 0}return o(a)}),3);function gt(e,t,r){const n=w(e);return yt((e=>n(((t,r)=>e(t,!r)))),t,r)}var mt=v((function(e,t){if(t=O(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function n(t){w(e[r++])(...t,A(o))}function o(o,...i){if(!1!==o)return o||r===e.length?t(o,...i):void n(i)}n([])})),wt={apply:s,applyEach:P,applyEachSeries:U,asyncify:d,auto:V,autoInject:z,cargo:W,cargoQueue:X,compose:Z,concat:re,concatLimit:te,concatSeries:ne,constant:oe,detect:se,detectLimit:ae,detectSeries:ue,dir:ce,doUntil:pe,doWhilst:fe,each:de,eachLimit:ye,eachOf:N,eachOfLimit:T,eachOfSeries:j,eachSeries:ge,ensureAsync:me,every:we,everyLimit:ve,everySeries:xe,filter:Oe,filterLimit:_e,filterSeries:Ae,forever:Re,groupBy:Te,groupByLimit:Le,groupBySeries:Se,log:Ce,map:D,mapLimit:ee,mapSeries:$,mapValues:De,mapValuesLimit:Ne,mapValuesSeries:Pe,memoize:je,nextTick:$e,parallel:Be,parallelLimit:Me,priorityQueue:qe,queue:Ve,race:ze,reduce:Y,reduceRight:Je,reflect:Ke,reflectAll:He,reject:Xe,rejectLimit:Ye,rejectSeries:Qe,retry:et,retryable:rt,seq:Q,series:nt,setImmediate:h,some:ot,someLimit:it,someSeries:st,sortBy:at,timeout:ut,times:ct,timesLimit:lt,timesSeries:ft,transform:pt,tryEach:ht,unmemoize:dt,until:gt,waterfall:mt,whilst:yt,all:we,allLimit:ve,allSeries:xe,any:ot,anyLimit:it,anySeries:st,find:se,findLimit:ae,findSeries:ue,flatMap:re,flatMapLimit:te,flatMapSeries:ne,forEach:de,forEachSeries:ge,forEachLimit:ye,forEachOf:N,forEachOfSeries:j,forEachOfLimit:T,inject:Y,foldl:Y,foldr:Je,select:Oe,selectLimit:_e,selectSeries:Ae,wrapSync:d,during:yt,doDuring:fe}})),i.register("apZF2",(function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,l=[],c=!1,f=-1;function p(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!c){var e=a(p);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new d(e,t)),1!==l.length||c||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}})),i.register("kUcGy",(function(e,t){var r=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.iterableMemoMethodsFactory=e.exports.iterableLimitMethodsFactory=e.exports.iterableEachOfLimitMethodsFactory=e.exports.iterableEachOfMethodsFactory=e.exports.iterableMethodsFactory=void 0,e.exports.iterableMethodsFactory=function(e){return class{handle(t,n){return t=>new Promise(((o,i)=>{e(n,((e,n)=>r(this,void 0,void 0,(function*(){try{const r=yield t(yield Promise.resolve(e));n(null,r)}catch(e){n(e)}}))),((e,t)=>r(this,void 0,void 0,(function*(){e?i(e):o(Array.isArray(t)?yield Promise.all(t):t)}))))}))}}},e.exports.iterableEachOfMethodsFactory=function(e){return class{handle(t,n){return t=>new Promise(((o,i)=>{e(n,((e,n,o)=>r(this,void 0,void 0,(function*(){try{const r=yield t(yield Promise.resolve(e),n);o(null,r)}catch(e){o(e)}}))),((e,t)=>r(this,void 0,void 0,(function*(){e?i(e):o(t)}))))}))}}},e.exports.iterableEachOfLimitMethodsFactory=function(e){return class{handle(t,n){return(t,o=5)=>new Promise(((i,s)=>{e(n,o,((e,n,o)=>r(this,void 0,void 0,(function*(){try{const r=yield e,i=yield t(r,n);o(null,i)}catch(e){o(e)}}))),((e,t)=>r(this,void 0,void 0,(function*(){e?s(e):i(t)}))))}))}}},e.exports.iterableLimitMethodsFactory=function(e){return class{handle(t,n){return(t,o=5)=>new Promise(((i,s)=>{e(n,o,((e,n)=>r(this,void 0,void 0,(function*(){try{const r=yield e,o=yield t(r);n(void 0,o)}catch(e){n(e)}}))),((e,t)=>r(this,void 0,void 0,(function*(){e?s(e):i(Array.isArray(t)?yield Promise.all(t):t)}))))}))}}},e.exports.iterableMemoMethodsFactory=function(e){return class{handle(t,n){return(t,o)=>new Promise(((i,s)=>{e(n,o,((e,n,o)=>r(this,void 0,void 0,(function*(){try{const r=yield t(e,yield Promise.resolve(n));o(void 0,r)}catch(e){o(e)}}))),((e,t)=>r(this,void 0,void 0,(function*(){e?s(e):i(Array.isArray(t)?yield Promise.all(t):t)}))))}))}}}})),i.register("jXnBH",(function(e,t){var r=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e.exports&&e.exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return n(t,e),t};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.some=e.exports.reduce=e.exports.map=e.exports.forEachOf=e.exports.forEach=e.exports.find=e.exports.filter=e.exports.every=void 0;const s=o(i("96JOj"));e.exports.every=new s.everySeries,e.exports.filter=new s.filterSeries,e.exports.find=new s.findSeries,e.exports.forEach=new s.forEachSeries,e.exports.forEachOf=new s.forEachOfSeries,e.exports.map=new s.mapSeries,e.exports.reduce=new s.reduce,e.exports.some=new s.someSeries}));class s extends Map{set(e,t){return super.set(e,t),t}}class a extends WeakMap{set(e,t){return super.set(e,t),t}}
/*! (c) Andrea Giammarchi - ISC */const u=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,l=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/?)>/g,c=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,f=/[\x01\x02]/g;var p=(e,t,r)=>{let n=0;return e.join("").trim().replace(l,((e,t,n,o)=>{let i=t+n.replace(c,"=$2$1").trimEnd();return o.length&&(i+=r||u.test(t)?" /":"></"+t),"<"+i+">"})).replace(f,(e=>""===e?"\x3c!--"+t+n+++"--\x3e":t+n++))};const h=(e,t)=>111===e.nodeType?1/t<0?t?(({firstChild:e,lastChild:t})=>{const r=document.createRange();return r.setStartAfter(e),r.setEndAfter(t),r.deleteContents(),e})(e):e.lastChild:t?e.valueOf():e.firstChild:e,d=e=>{const{firstChild:t,lastChild:r}=e;if(t===r)return r||e;const{childNodes:n}=e,o=[...n];return{ELEMENT_NODE:1,nodeType:111,firstChild:t,lastChild:r,valueOf:()=>(n.length!==o.length&&e.append(...o),e)}},{isArray:y}=Array,{indexOf:g,slice:m}=[];let w=!1;class v{constructor(e,t){w=!0,this._=(...r)=>e(...r,t)}}const x=(e,t)=>new v(e,t),E=e=>t=>{for(const r in t){const n="role"===r?r:`aria-${r}`,o=t[r];null==o?e.removeAttribute(n):e.setAttribute(n,o)}},b=(e,t)=>{let r,n=!0;const o=document.createAttributeNS(null,t);return i=>{if(r!==i)if(r=i,null==r)n||(e.removeAttributeNode(o),n=!0);else{const r=w&&i instanceof v?i._(e,t):i;null==r?(n||e.removeAttributeNode(o),n=!0):(o.value=r,n&&(e.setAttributeNodeNS(o),n=!1))}}},I=(e,t,r)=>n=>{r!==!!n&&((r=!!n)?e.setAttribute(t,""):e.removeAttribute(t))},O=(e,t)=>{let r,n,o=t.slice(2);return!(t in e)&&(n=t.toLowerCase())in e&&(o=n.slice(2)),t=>{const n=y(t)?t:[t,!1];r!==n[0]&&(r&&e.removeEventListener(o,r,n[1]),(r=n[0])&&e.addEventListener(o,r,n[1]))}},_=e=>{let t;return r=>{t!==r&&(t=r,"function"==typeof r?r(e):r.current=e)}},A=(e,t)=>"dataset"===t?(({dataset:e})=>t=>{for(const r in t){const n=t[r];null==n?delete e[r]:e[r]=n}})(e):r=>{e[t]=r},R=e=>{let t;return r=>{t!=r&&(t=r,e.textContent=null==r?"":r)}};var L=(e,t,r,n,o)=>{const i=r.length;let s=t.length,a=i,u=0,l=0,c=null;for(;u<s||l<a;)if(s===u){const t=a<i?l?n(r[l-1],-0).nextSibling:n(r[a-l],0):o;for(;l<a;)e.insertBefore(n(r[l++],1),t)}else if(a===l)for(;u<s;)c&&c.has(t[u])||e.removeChild(n(t[u],-1)),u++;else if(t[u]===r[l])u++,l++;else if(t[s-1]===r[a-1])s--,a--;else if(t[u]===r[a-1]&&r[l]===t[s-1]){const o=n(t[--s],-1).nextSibling;e.insertBefore(n(r[l++],1),n(t[u++],-1).nextSibling),e.insertBefore(n(r[--a],1),o),t[s]=r[a]}else{if(!c){c=new Map;let e=l;for(;e<a;)c.set(r[e],e++)}if(c.has(t[u])){const o=c.get(t[u]);if(l<o&&o<a){let i=u,f=1;for(;++i<s&&i<a&&c.get(t[i])===o+f;)f++;if(f>o-l){const i=n(t[u],0);for(;l<o;)e.insertBefore(n(r[l++],1),i)}else e.replaceChild(n(r[l++],1),n(t[u++],-1))}else u++}else e.removeChild(n(t[u++],-1))}return r};const{isArray:T,prototype:S}=Array,{indexOf:C}=S,{createDocumentFragment:N,createElement:D,createElementNS:P,createTextNode:j,createTreeWalker:$,importNode:U}=new Proxy(document,{get:(e,t)=>e[t].bind(e)});let B;const M=(e,t)=>t?(e=>{B||(B=P("http://www.w3.org/2000/svg","svg")),B.innerHTML=e;const t=N();return t.append(...B.childNodes),t})(e):(e=>{const t=D("template");return t.innerHTML=e,t.content})(e),V=({childNodes:e},t)=>e[t],k=(e,t,r)=>L(e.parentNode,t,r,h,e),F=(e,t)=>{switch(t[0]){case"?":return I(e,t.slice(1),!1);case".":return A(e,t.slice(1));case"@":return O(e,"on"+t.slice(1));case"o":if("n"===t[1])return O(e,t)}switch(t){case"ref":return _(e);case"aria":return E(e)}return b(e,t)};function G(e){const{type:t,path:r}=e,n=r.reduceRight(V,this);return"node"===t?(e=>{let t,r,n=[];const o=i=>{switch(typeof i){case"string":case"number":case"boolean":t!==i&&(t=i,r||(r=j("")),r.data=i,n=k(e,n,[r]));break;case"object":case"undefined":if(null==i){t!=i&&(t=i,n=k(e,n,[]));break}if(T(i)){t=i,0===i.length?n=k(e,n,[]):"object"==typeof i[0]?n=k(e,n,i):o(String(i));break}t!==i&&"ELEMENT_NODE"in i&&(t=i,n=k(e,n,11===i.nodeType?[...i.childNodes]:[i]));break;case"function":o(i(e))}};return o})(n):"attr"===t?F(n,e.name):R(n)}const q=e=>{const t=[];let{parentNode:r}=e;for(;r;)t.push(C.call(r.childNodes,e)),e=r,({parentNode:r}=e);return t},z=new a,J=/^(?:textarea|script|style|title|plaintext|xmp)$/,K=(e,t)=>{const r="svg"===e,n=p(t,"is",r),o=M(n,r),i=$(o,129),s=[],a=t.length-1;let u=0,l=`is${u}`;for(;u<a;){const e=i.nextNode();if(!e)throw`bad template: ${n}`;if(8===e.nodeType)e.data===l&&(s.push({type:"node",path:q(e)}),l="is"+ ++u);else{for(;e.hasAttribute(l);)s.push({type:"attr",path:q(e),name:e.getAttribute(l)}),e.removeAttribute(l),l="is"+ ++u;J.test(e.localName)&&e.textContent.trim()===`\x3c!--${l}--\x3e`&&(e.textContent="",s.push({type:"text",path:q(e)}),l="is"+ ++u)}}return{content:o,nodes:s}},H=(e,t)=>{const{content:r,nodes:n}=z.get(t)||z.set(t,K(e,t)),o=U(r,!0);return{content:o,updates:n.map(G,o)}},W=(e,{type:t,template:r,values:n})=>{const o=X(e,n);let{entry:i}=e;i&&i.template===r&&i.type===t||(e.entry=i=((e,t)=>{const{content:r,updates:n}=H(e,t);return{type:e,template:t,content:r,updates:n,wire:null}})(t,r));const{content:s,updates:a,wire:u}=i;for(let e=0;e<o;e++)a[e](n[e]);return u||(i.wire=d(s))},X=({stack:e},t)=>{const{length:r}=t;for(let n=0;n<r;n++){const r=t[n];r instanceof Y?t[n]=W(e[n]||(e[n]={stack:[],entry:null,wire:null}),r):T(r)?X(e[n]||(e[n]={stack:[],entry:null,wire:null}),r):e[n]=null}return r<e.length&&e.splice(r),r};class Y{constructor(e,t,r){this.type=e,this.template=t,this.values=r}}const Q=e=>{const t=new a;return Object.assign(((t,...r)=>new Y(e,t,r)),{for(r,n){const o=t.get(r)||t.set(r,new s);return o.get(n)||o.set(n,(i={stack:[],entry:null,wire:null},(t,...r)=>W(i,{type:e,template:t,values:r})));var i},node:(t,...r)=>W({stack:[],entry:null,wire:null},new Y(e,t,r)).valueOf()})},Z=new a,ee=(e,t)=>{const r="function"==typeof t?t():t,n=Z.get(e)||Z.set(e,{stack:[],entry:null,wire:null}),o=r instanceof Y?W(n,r):r;return o!==n.wire&&(n.wire=o,e.replaceChildren(o.valueOf())),e},te=Q("html");Q("svg");var re={},ne=re&&re.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),oe=re&&re.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||ne(t,e,r)};Object.defineProperty(re,"__esModule",{value:!0}),oe(i("em0bs"),re),oe(i("h6hqV"),re),oe(i("01VDl"),re),oe(i("jVG1l"),re),oe(i("lMDCp"),re),oe(i("3JqYv"),re),oe(i("6vLBM"),re);const ie=new WeakMap,se=Object.create(null);class ae{constructor({handlers:e=se,resolvers:t=[]}={}){this._handlers=e,this._resolvers=t}createPath(e={},t){void 0===t&&([t,e]=[e,{}]);const{apply:r,...n}=t,o=r?Object.assign((function(...e){return r(e,o,i)}),n):n,i=new Proxy(o,this);if(o.proxy=i,o.settings=e,!o.extendPath){const t=this;o.extendPath=function r(n,o=this){return t.createPath(e,{parent:o,extendPath:r,...n})}}return i}get(e,t){const r=this._handlers[t];if(r&&"function"==typeof r.handle)return r.handle(e,e.proxy);for(const r of this._resolvers)if(r.supports(t))return r.resolve(t,e,e.proxy)}}var ue,le={};class ce{constructor(e){this.value=e||"b"+ ++ce.nextId}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}ce.prototype.termType="BlankNode",ce.nextId=0,le=ce;var fe={};class pe{equals(e){return!!e&&e.termType===this.termType}}pe.prototype.termType="DefaultGraph",pe.prototype.value="",fe=pe;var he={};he=function(e){if(!e)return null;if("BlankNode"===e.termType)return this.blankNode(e.value);if("DefaultGraph"===e.termType)return this.defaultGraph();if("Literal"===e.termType)return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if("NamedNode"===e.termType)return this.namedNode(e.value);if("Quad"===e.termType){const t=this.fromTerm(e.subject),r=this.fromTerm(e.predicate),n=this.fromTerm(e.object),o=this.fromTerm(e.graph);return this.quad(t,r,n,o)}if("Variable"===e.termType)return this.variable(e.value);throw new Error(`unknown termType ${e.termType}`)};var de={},ye={};class ge{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}ge.prototype.termType="NamedNode",ye=ge;class me{constructor(e,t,r){this.value=e,this.datatype=me.stringDatatype,this.language="",t?(this.language=t,this.datatype=me.langStringDatatype):r&&(this.datatype=r)}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}me.prototype.termType="Literal",me.langStringDatatype=new ye("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),me.stringDatatype=new ye("http://www.w3.org/2001/XMLSchema#string"),de=me;var we={};class ve{constructor(e,t,r,n){this.subject=e,this.predicate=t,this.object=r,this.graph=n||new fe}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}}ve.prototype.termType="Quad",ve.prototype.value="",we=ve;var xe={};class Ee{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}Ee.prototype.termType="Variable",xe=Ee;const be={namedNode:function(e){return new ye(e)},blankNode:function(e){return new le(e)},literal:function(e,t){return"string"==typeof t?-1===t.indexOf(":")?new de(e,t):new de(e,null,be.namedNode(t)):new de(e,null,t)},variable:function(e){return new xe(e)},defaultGraph:function(){return be.defaultGraphInstance},triple:function(e,t,r){return be.quad(e,t,r)},quad:function(e,t,r,n){return new we(e,t,r,n||be.defaultGraphInstance)},fromTerm:function(e){return he.call(be,e)},fromQuad:function(e){return he.call(be,e)},defaultGraphInstance:new fe};ue=be;class Ie{_context=Promise.resolve({});constructor(...e){this.extendContext(...e)}async extendContext(...e){await(this._context=this._context.then((({contextRaw:t})=>(new(0,re.ContextParser)).parse([t,...e]))))}}class Oe{constructor(e){this.templateCallback=e}toString(e){return this.templateCallback(e)}}const _e={};async function Ae(e){const t=[];for await(const r of e)t.push(r);return t}function Re(e){return e[Symbol.asyncIterator]().next().then((e=>e.value))}function Le(e){return{then:Te(e)}}function Te(e){return(t,r)=>e().then(t,r)}function Se(e){return"function"==typeof e&&(e=function(e){const t=[];let r=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){let e=0;return{async next(){if(e<t.length)return t[e++];if(!r)return{done:!0};const n=t[e++]=r.next();return(await n).done&&(r=null),n}}}}}(e())),{[Symbol.asyncIterator]:()=>e[Symbol.asyncIterator](),get then(){return Te((()=>Re(this)))},catch(e){return this.then(null,e)},finally(e){return this.then().finally(e)}}}const Ce="http://www.w3.org/2001/XMLSchema#",Ne=`${Ce}boolean`,De=`${Ce}dateTime`,Pe=`${Ce}decimal`,je=`${Ce}double`,$e=`${Ce}float`,Ue=`${Ce}integer`,Be=(0,ue.namedNode)(Ne),Me=(0,ue.namedNode)(De),Ve=(0,ue.namedNode)(Pe),ke=(0,ue.namedNode)(je),Fe=(0,ue.namedNode)(Ue),Ge=(0,ue.literal)("true",Be),qe=(0,ue.literal)("false",Be),ze=(0,ue.literal)("NaN",ke),Je=(0,ue.literal)("INF",ke),Ke=(0,ue.literal)("-INF",ke),He={NaN:NaN,INF:1/0,"-INF":-1/0};function We(e){return e&&"function"==typeof e[Symbol.asyncIterator]}function Xe(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date||"function"==typeof e.then||"string"==typeof e.termType||We(e))}function Ye(e,t=!1){const r=e.some(Xe);if(r&&!t&&1!==e.length)throw new Error(`Expected only 1 plain object, but got ${e.length} arguments`);return r}function Qe(e){switch(typeof e){case"string":return(0,ue.literal)(e);case"boolean":return e?Ge:qe;case"number":return Number.isInteger(e)?(0,ue.literal)(e.toString(),Fe):Number.isFinite(e)?(0,ue.literal)(e.toString(),Ve):e===1/0?Je:e===-1/0?Ke:ze;default:if(e){if("string"==typeof e.termType)return e;if(e instanceof Date)return(0,ue.literal)(e.toISOString(),Me)}}throw new Error(`Invalid object: ${e}`)}function Ze(e){const{termType:t,value:r}=e;if("Literal"===t){const t=e.datatype.value;if(t.startsWith(Ce))switch(t){case Ne:return"true"===r||"1"===r;case Ue:return Number.parseInt(r,10);case Pe:return Number.parseFloat(r);case je:case $e:return r in He?He[r]:Number.parseFloat(r);case De:return new Date(Date.parse(r))}}return r}class et{_contextProvider=new Ie;get _context(){return this._contextProvider._context}async extendContext(...e){await this._contextProvider.extendContext(...e)}constructor(e,...t){e instanceof Ie?(this._contextProvider=e,this.extendContext(...t)):this.extendContext(e,...t)}supports(e){return"string"==typeof e}resolve(e,t){const r=Le((()=>this.expandProperty(e))),n=Le((()=>this._context.then((({contextRaw:t})=>t[e]&&t[e]["@reverse"])))),o=this.getResultsCache(t,r,n),i={property:e,predicate:r,resultsCache:o,reverse:n,apply:this.apply};return t.extendPath(i)}apply(e,t,r){if(0===e.length){const{property:e}=t;throw new Error(`Specify at least one term when calling .${e}() on a path`)}return t.filters=e.filter((e=>e instanceof Oe)),t.values=e.filter((e=>!t.filters.includes(e))).map(Qe),r}async expandProperty(e){return this.lookupProperty(e.replace(/^([a-z][a-z0-9]*)[_$]/i,"$1:"))}getResultsCache(e,t,r){let{propertyCache:n}=e;return n&&Le((async()=>{n=!await r&&await n;const o=(await t).value,i=`${o}|${e.filters?.map((e=>e.toString("")))}`;return n&&n[o]||n&&e.filters?.length&&n[i]}))}}class tt extends et{async lookupProperty(e){const t=(await this._context).expandTerm(e,!0);if(!re.Util.isValidIri(t))throw new Error(`The JSON-LD context cannot expand the '${e}' property`);return(0,ue.namedNode)(t)}}class rt extends et{supports(e){return super.supports(e)&&/((^|[/|])[\^])|(([a-z:>)])[*+?])|([)>*+?]|[a-z]*[:][a-z]*)[|/]([<(^]|[a-z]*[:][a-z]*)|(((^[(<])|([)>]$)))/i.test(e)}async lookupProperty(e){if(e.startsWith("<")&&e.endsWith(">")&&2===e.split("<").length)return{termType:"namedNode",value:e.substring(1).substring(0,e.length-2)};try{return{termType:"path",value:e}}catch(t){throw new Error(`The Complex Path Resolver cannot expand the '${e}' path`)}}}class nt{handle({subject:e},t){return e?()=>{return e=t.subject,{async next(){if(e!==_e){const t=await e;return e=_e,{value:t}}return{done:!0}}};var e}:()=>t.results[Symbol.asyncIterator]()}}function ot(e){return{handle:e}}const it="http://www.w3.org/1999/02/22-rdf-syntax-ns#";function st(){return ot(((e,t)=>async()=>{let e=await t;const r=[];for(;e&&e.value!==`${it}nil`;)r.push(e[`${it}first`]),e=await e[`${it}rest`];return(await Promise.all(r)).filter((e=>void 0!==e))}))}function at(e){return ot(((t,r)=>async()=>{let t,n=[],o=0;for(;t=await r[`${it}_${++o}`];)n.push(t);return n=await Promise.all(n),e?new Set(n):n}))}function ut(){return ot(((e,t)=>async()=>{switch((await t[`${it}type`])?.value){case`${it}List`:return st().handle(e,t)();case`${it}Bag`:return at(!0).handle(e,t)();case`${it}Alt`:case`${it}Seq`:case`${it}Container`:return at(!1).handle(e,t)();default:return t}}))}class lt{constructor(e,...t){this._isAsync=e.async,this._isFunction=e.function,this._dataProperties=t}static sync(...e){return new lt({async:!1},...e)}static syncFunction(...e){return new lt({async:!1,function:!0},...e)}static async(...e){return new lt({async:!0},...e)}static asyncFunction(...e){return new lt({async:!0,function:!0},...e)}handle(e){return this._isFunction?()=>this._resolveDataPath(e):this._resolveDataPath(e)}_resolveDataPath(e){return this._isAsync?this._resolveAsyncDataPath(e):this._resolveSyncDataPath(e)}_resolveSyncDataPath(e){for(const t of this._dataProperties)e=e&&e[t];return e}async _resolveAsyncDataPath(e){for(const t of this._dataProperties)e=e&&await e[t];return e}}class ct{constructor(e,t){this._mutationType=e,this._allowZeroArgs=t}handle(e,t){return(...r)=>{if(!this._allowZeroArgs&&!r.length)throw new Error("Mutation cannot be invoked without arguments");const n=Le((()=>this.createMutationExpressions(e,t,r)));return e.extendPath({mutationExpressions:n})}}async createMutationExpressions(e,t,r){if(!Ye(r))return[await this.createMutationExpression(e,t,r)];const n=Object.entries(r[0]),o=await Promise.all(n.map((([r,n])=>{return this.createMutationExpression(e,t[r],(o=n,Array.isArray(o)?o:o?[o]:[]));var o})));return[0===o.length?{}:{...o[0],predicateObjects:(i=o.map((e=>e.predicateObjects)),[].concat(...i))}];var i}async createMutationExpression(e,t,r){const n=await t.pathExpression;if(!Array.isArray(n))throw new Error(`${e} has no pathExpression property`);if(n.length<2)throw new Error(`${e} should at least contain a subject and a predicate`);const{predicate:o,reverse:i}=n[n.length-1];if(!o)throw new Error(`Expected predicate in ${e}`);const s=await this.extractObjects(e,t,r);return null!==s&&0===s.length?{}:{mutationType:this._mutationType,conditions:n.slice(0,-1),predicateObjects:[{predicate:o,reverse:i,objects:s}]}}async extractObjects(e,t,r){if(0===r.length)return null;const n=[];for(const e of r)We(e)?n.push(...await Ae(e)):n.push(await e);return n.map(Qe)}}class ft{async*handle(e,t){const r=await e.resultsCache;if(r){for(const e of r)yield e;return}const{queryEngine:n}=e.settings;if(!n)throw new Error(`${e} has no queryEngine setting`);const o=await t.sparql;if(null==o)throw new Error(`${e} has no sparql property`);if(0!==o.length)for await(const t of n.execute(o))yield this.extractTerm(t,e)}extractTerm(e,t){if(1!==e.size)throw new Error("Only single-variable queries are supported");const r=e.values().next().value;return t.extendPath({subject:r},null)}}class pt{handle(e,t){return(...e)=>this.readProperties(t,1===e.length?e[0]:e,!0)}async readProperties(e,t,r=!1){if(We(t)&&(t=await Ae(t)),Array.isArray(t)){const r=t.map((t=>this.readProperties(e,t)));return Promise.all(r)}if(Xe(t)){const r=Object.keys(t);t=r.map((e=>t[e]||e));const n={},o=await this.readProperties(e,t);for(let e=0;e<r.length;e++)n[r[e]]=o[e];return n}const n=e[t];return r?[n]:n}}class ht{async handle(e){const t=[];let r=e;for(;r;)r.mutationExpressions&&t.unshift(...await r.mutationExpressions),r=r.parent;return t}}class dt{async handle(e){const t=[];let r=e;for(;r.parent;)r.predicate&&t.unshift({predicate:await r.predicate,reverse:await r.reverse,sort:r.sort,filters:r.filters,values:r.values}),r=r.parent;if(!r.subject)throw new Error(`Expected root subject in ${r}`);const n=await r.subject;return t.unshift({subject:n}),t}}class yt{handle(e){const{predicate:t}=e;return t?Promise.resolve(t).then((t=>e.extendPath({subject:t},null))):void 0}}class gt{handle(e){return e.extendPath({distinct:!0,select:"?predicate",finalClause:e=>`${e} ?predicate ?object.`,property:e.property})}}const mt=/(SELECT\s+)(\?\S+)/,wt=/\}[^}]*$/;class vt{handle(e,t){return async(...r)=>{if(r.length>0){const n=await Promise.all(r.map((async e=>(await t[e].predicate).value)));e.resultsCache=await this.createResultsCache(n,e,t)}return t}}async createResultsCache(e,t,r){const{query:n,vars:o,resultVar:i}=await this.createQuery(e,r),{settings:{queryEngine:s}}=t,a=s.execute(n),u={},l={};for await(const r of a){const n=r.get(i)??r.get(i.substring(1)),s=xt(n);if(!(s in u)){const r=l[s]={};for(const t of e)r[t]=[];const o={subject:n,propertyCache:r};u[s]=t.extendPath(o,null)}const a=l[s];for(let n=0;n<o.length;n++){const i=r.get(o[n])??r.get(o[n].substring(1));if(i){const r=t.extendPath({subject:i},null);a[e[n]].push(r)}}}return Object.values(u)}async createQuery(e,t){const r=await t.sparql,n=mt.exec(r);if(!n)throw new Error(`Unexpected path query: ${r}`);const o=n[2],i=e.map(((e,t)=>`?preload_${t}`)),s=e.map(((e,t)=>`    { ${o} <${e}> ${i[t]}. }`)).join("\n    UNION\n");return{query:r.replace(mt,`$1$2 ${i.join(" ")}`).replace(wt,`  OPTIONAL {\n${s}\n  }\n$&`),vars:i,resultVar:o}}}function xt(e){const{termType:t,value:r}=e;switch(t){case"NamedNode":return r;case"Literal":const{language:n,datatype:o}=e;return`${t}|${n}|${o.value}|${r}`;default:return`${t}|${r}`}}class Et{handle(e,t){return Se(this._handle(e,t))}async*_handle(e,t){const r=await e.settings.parsedContext||{},n=new(0,re.JsonLdContextNormalized)(r);for await(const e of t.predicates)yield n.compactIri(`${await e}`,!0)}}class bt{constructor(e="ASC"){this.order=e}handle(e,t){return(...r)=>{if(0===r.length)return t;const[n,...o]=r,{predicate:i}=t[n],s={property:n,predicate:i,sort:this.order},a=e.extendPath(s);return 0===o.length?a:a.sort(...o)}}}const It=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,Ot=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,_t={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class At{async handle(e,t){const r=await t.mutationExpressions;if(Array.isArray(r)&&r.length)return r.map((e=>this.mutationExpressionToQuery(e))).filter(Boolean).join("\n;\n");const n=await t.pathExpression;if(!Array.isArray(n))throw new Error(`${e} has no pathExpression property`);return this.pathExpressionToQuery(e,t,n)}pathExpressionToQuery(e,t,r){if(r.length<2&&!e.finalClause)throw new Error(`${e} should at least contain a subject and a predicate`);let n="?subject",o=[],i=[],s=[];r.length>1&&(n=this.createVar(e.property),({queryVar:n,sorts:o,clauses:i,filters:s}=this.expressionToTriplePatterns(r,n))),e.finalClause&&i.push(e.finalClause(n));const a=`SELECT ${e.distinct?"DISTINCT ":""}${e.select?e.select:n}`,u=s.length?`FILTER(${s.join(" || ")})`:"",l=` WHERE {\n  ${i.join("\n  ")}\n${u?`  ${u}\n`:""}}`,c=o.map((({order:e,variable:t})=>`${e}(${t})`));return`${a}${l}${0===c.length?"":`\nORDER BY ${c.join(" ")}`}`}mutationExpressionToQuery({mutationType:e,conditions:t,predicateObjects:r}){if(!e||!t||r&&0===r.length)return"";const n={};let o,i;if(1===t.length)o=this.termToString(t[0].subject),i=[];else{const e=t[t.length-1].predicate;o=this.createVar(e.value,n),({queryVar:o,clauses:i}=this.expressionToTriplePatterns(t,o,n))}const s=[];for(const{predicate:e,reverse:t,objects:i}of r){const r=i?i.map((e=>this.termToString(e))):[this.createVar(e.value,n)];s.push(...this.triplePatterns(o,e,r,t))}const a=`{\n  ${s.join("\n  ")}\n}`;return 0===i.length?`${e} DATA ${a}`:`${e} ${a} WHERE {\n  ${i.join("\n  ")}\n}`}expressionToTriplePatterns([e,...t],r,n={}){const o=t.length-1,i=[],s=[],a=[];let u=this.termToString(function(e){if("BlankNode"!==e.termType)return e;e.skolemized||(e.skolemized=(0,ue.namedNode)("urn:ldflex:sk"+Lt++));return e.skolemized}(e.subject)),l=u,c=!1;return t.forEach(((e,t)=>{const f=u,{predicate:p,reverse:h,sort:d,values:y,filters:g}=e;let m;if(y&&y.length>0){if(!c)throw new Error("Specifying fixed values is not allowed here");m=y.map(this.termToString),c=!1}else{if(u=t<o?this.createVar(`v${t}`,n):r,m=[u],g)for(const e of g)a.push(e.toString(u));c=!0}i.push(...this.triplePatterns(f,p,m,h)),d?(s.push({variable:u,order:d}),u=l):l=u})),{queryVar:l,sorts:s,clauses:i,filters:a}}createVar(e="",t){let r=0,n=`?${e.match(/[a-z0-9]*$/i)[0]||"result"}`;if(t){for(e=n;t[n];)n=`${e}_${r++}`;t[n]=!0}return n}termToString(e){let{value:t}=e;switch(It.test(t)&&(t=t.replace(Ot,Rt)),e.termType){case"NamedNode":return`<${t}>`;case"BlankNode":return`_:${t}`;case"Literal":let r="";return e.language?r=`@${e.language}`:"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value&&(r=`^^<${e.datatype.value}>`),`"${t}"${r}`;default:throw new Error(`Could not convert a term of type ${e.termType}`)}}triplePatterns(e,t,r,n=!1){let o=[e];n&&([o,r]=[r,o]);const i=r.join(", "),s="path"===t.termType?t.value:`<${t.value}>`;return o.map((e=>`${e} ${s} ${i}.`))}}function Rt(e){let t=_t[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}let Lt=0;class Tt{handle(e,t){return(e="",r=t)=>{const n=`"use strict";return ldflex${e.replace(/^(https?:\/\/[^()[\]'"]+)$/,'["$1"]').replace(/^(?=[a-z$_])/i,".").replace(/\[([^'"`\](]*)\]/g,'["$1"]')}`;let o;try{o=Function("ldflex",n)}catch({message:t}){throw new Error(`Expression "${e}" is invalid: ${t}`)}return o(r)}}}class St{handle(e){let{subject:t,parent:r}=e;for(;!t&&r;)({subject:t,parent:r}=r);return t?Promise.resolve(t).then((t=>e.extendPath({subject:t},null))):void 0}}class Ct{handle(e){return e.extendPath({distinct:!0,select:"?subject",finalClause:()=>"?subject ?predicate ?object.",property:e.property})}}class Nt{handle({subject:e},t){return e?e.then&&Te((()=>t.subject)):Te((()=>Re(t.results)))}}class Dt{handle(e,t){return async e=>{const r=[];if(We(t)){"function"!=typeof e&&(e=e=>e);let n=0;for await(const o of t)r.push(await e(o,n++))}return r}}}function Pt(e,t){if("NamedNode"!==e?.termType)return;const r=e.value.lastIndexOf("#");return t(e.value,-1===r?e.value.lastIndexOf("/"):r)}const jt=ot((({subject:e})=>Pt(e,((e,t)=>e.slice(0,t+1))))),$t=ot((({subject:e})=>Pt(e,((e,t)=>e.slice(t+1))))),Ut=ot((async e=>{const t=await e.settings.parsedContext,r=jt.handle(e);for(const e in t)if("string"==typeof e&&t[e]===r)return e}));var Bt={__esModule:()=>{},then:new Nt,[Symbol.asyncIterator]:new nt,list:st(),container:at(!1),containerAsSet:at(!0),collection:ut(),get:new pt,subject:new St,predicate:new yt,properties:new Et,predicates:new gt,pathExpression:new dt,sparql:new At,subjects:new Ct,results:new ft,sort:new bt("ASC"),sortDesc:new bt("DESC"),preload:new vt,mutationExpressions:new ht,add:new class extends ct{constructor(){super("INSERT",!1)}},set:new class extends ct{handle(e,t){return(...e)=>(Ye(e)?Object.keys(e[0]).reduce(((e,t)=>e.delete({[t]:[]})),t):t.delete()).add(...e)}},replace:new class{handle(e,t){return function(e,...r){if(!e||!r.length)throw new Error("Replacing values requires at least two arguments, old value followed by all new values");return t.delete(e).add(...r)}}},delete:new class extends ct{constructor(){super("DELETE",!0)}},termType:Mt("termType"),value:Mt("value"),datatype:Mt("datatype"),language:Mt("language"),canonical:Mt("canonical"),equals:lt.sync("subject","equals"),toString:lt.syncFunction("subject","value"),valueOf:Vt(),toPrimitive:Vt(),prefix:Ut,namespace:jt,fragment:$t,toArray:new Dt,termTypes:ot(((e,t)=>t.toArray((e=>e.termType)))),values:ot(((e,t)=>t.toArray((e=>e.value)))),datatypes:ot(((e,t)=>t.toArray((e=>e.datatype)))),languages:ot(((e,t)=>t.toArray((e=>e.language)))),resolve:new Tt};function Mt(e){return ot((({subject:t},r)=>t&&e in t?t[e]:r.then&&r.then((t=>t?.[e]))))}function Vt(){return ot((({subject:e})=>()=>"string"!=typeof e?.termType?void 0:Ze(e)))}class kt{constructor(e,t){this._settings=e={...e},this._data=t={...t};const r=e.handlers||Bt;for(const e in r)r[e]=Ft(r[e]);for(const e of Object.getOwnPropertySymbols(r))r[e]=Ft(r[e]);const n=(e.resolvers||[]).map(Gt);if(e.context){const t=new Ie(e.context);n.push(new rt(t)),n.push(this._jsonldResolver=new tt(t)),e.parsedContext=(new(0,re.ContextParser)).parse(e.context).then((e=>{let{contextRaw:t}=e;return t}))}else e.context=e.parsedContext={};this._pathProxy=new ae({handlers:r,resolvers:n}),delete e.handlers,delete e.resolvers}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t||([t,e]=[e,null]),"string"==typeof t&&(t={subject:t});const r={...this._data,...t};if("string"==typeof r.subject){if(!this._jsonldResolver)throw new Error("Unable to resolve string subject - try providing a context to the PathFactory");r.subject=this._jsonldResolver.lookupProperty(r.subject)}return this._pathProxy.createPath({...this._settings,...e},r)}}function Ft(e){return"function"==typeof e.handle?e:{handle:e}}function Gt(e){return"function"==typeof e.resolve?e:{supports:qt,resolve:e}}function qt(){return!0}kt.defaultHandlers=Bt;class zt{constructor(e){this.source=e}async*execute(e){const t=new URL(this.source);t.searchParams.set("format","application/sparql-results+json");const r=new FormData;r.set("query",e);const n=await fetch(t.toString(),{method:"POST",body:r}),o=await n.json(),{results:{bindings:i}}=o;for(const e of i)yield new Proxy(e,{get:(t,r)=>"values"===r?()=>{const t=Object.keys(e)[0];return Jt([e[t]])}:"size"===r?1:"get"===r?t=>e[t]:void 0})}}function*Jt(e){for(const t of e)yield t}const Kt=/(SELECT\s+)(\?\S+)/,Ht=/\}[^}]*$/;function Wt(e){return ot(((t,r)=>{let{subject:n}=t;return n&&e in n?n[e]:r.then&&r.then((t=>null==t?void 0:t[e]))}))}function Xt(){return ot((e=>{let{subject:t}=e;return()=>"string"!=typeof(null==t?void 0:t.termType)?void 0:Ze(t)}))}const Yt={...{__esModule:()=>{},then:new Nt,[Symbol.asyncIterator]:new nt,list:st(),container:at(!1),containerAsSet:at(!0),collection:ut(),get:new pt,subject:new St,predicate:new yt,properties:new Et,predicates:new gt,pathExpression:new dt,sparql:new At,subjects:new Ct,results:new ft,sort:new bt("ASC"),sortDesc:new bt("DESC"),preload:new vt,mutationExpressions:new ht,termType:Wt("termType"),value:Wt("value"),datatype:Wt("datatype"),language:Wt("language"),canonical:Wt("canonical"),equals:lt.sync("subject","equals"),toString:lt.syncFunction("subject","value"),valueOf:Xt(),toPrimitive:Xt(),prefix:Ut,namespace:jt,fragment:$t,toArray:new Dt,termTypes:ot(((e,t)=>t.toArray((e=>e.termType)))),values:ot(((e,t)=>t.toArray((e=>e.value)))),datatypes:ot(((e,t)=>t.toArray((e=>e.datatype)))),languages:ot(((e,t)=>t.toArray((e=>e.language)))),resolve:new Tt},parent:new class{handle(e){let t=e;for(;t.parent;)t=t.parent;return t}},path:new class{handle(e){return e}},preload:new vt,bundle:new class extends vt{handle(e,t){const r=this;return async(n,o=!1)=>{const i=await await Promise.all(n.map((e=>e.pathExpression))),s=i.map((e=>e.filter(((e,t)=>(!e.predicate||!o||1!==t)&&e.predicate)).map((e=>e.predicate.value)).map((e=>e.startsWith("http")?`<${e}>`:e)).join(" / "))),a=await r.createResultsCache(i,s,e,t,o);for(const[e,t]of n.entries()){const r=(await t.predicate)?.value,n=`${r}|${(await t.path.filters)?.map((e=>e.toString("")))??""}`,o=s[e];if(r){const e=a.map((e=>e.path.propertyCache[o])),i=[];for(const t of e)for(const e of t){n===`${r}|${e.path.filters?.map((e=>e.toString("")))??""}`&&i.push(e)}t.path.resultsCache=i}}return t}}async createResultsCache(e,t,r,n,o=!1){const{query:i,vars:s,resultVar:a}=await this.createQuery(e,t,n,o),{settings:{queryEngine:u}}=r,l=u.execute(i),c=t,f=e.map((e=>e.filter((e=>e.filters)).map((e=>e.filters)))),p={},h={};for await(const e of l){const t=e.get(a)??e.get(a.substring(1)),n=xt(t);if(!(n in p)){const e=h[n]={};for(const t of c)e[t]=[];const o={subject:t,propertyCache:e};p[n]=r.extendPath(o,null)}const o=h[n];for(let t=0;t<s.length;t++){const n=e.get(s[t])??e.get(s[t].substring(1));if(n){const e=r.extendPath({subject:n,filters:f[t]},null);o[c[t]].push(e)}}}return Object.values(p)}async createQuery(e,t,r,n=!1){const o=`${await r.subject}`;r.finalClause=n?()=>" ":e=>`VALUES ${e} { <${o}> }`;const i=await r.sparql,s=Kt.exec(i)[2],a=t.map(((e,t)=>`?preload_${t}`)),u=e.map(((e,t)=>e.filter((e=>e.filters)).map((e=>e.filters.map((e=>e.toString(a[t]))))))).map((e=>e.length?`  FILTER(${e.join(" || ")})`:"")),l=`  OPTIONAL {\n${t.map(((e,t)=>`    { ${s} ${e} ${a[t]}. \n    ${u[t]}\n    }`)).join("\n    UNION\n")}\n  }\n$&`;return{query:i.replace(Kt,`$1$2 ${a.join(" ")}`).replace(Ht,l),vars:a,resultVar:s}}}},Qt=(e,t,r,n,o={})=>{n||(n=e);const i=new zt(n),s={"@context":{...t}};r&&(s["@context"]["@vocab"]=t[r]);return new kt({queryEngine:i,handlers:{...Yt,...o},context:s},void 0).create({subject:{termType:"NamedNode",value:e}})},Zt=(e,t)=>x(((e,r,n)=>{t.then((()=>{n.value.then((t=>{"string"==typeof t&&e.setAttribute(r,t)}))}))}),e),er=e=>{const t=new(0,re.JsonLdContextNormalized)(e.prefixes);for(const[r,n]of Object.entries(e.dataHandlers)){const o=t.expandTerm(r);o!==r&&(e.dataHandlers[o]=n)}return{html:function(t,...r){const n=r.filter((e=>"function"==typeof e?.extendPath)),o=new Map;let i=Promise.resolve();for(const e of n){const t=e.parent.subject.value;o.has(t)||o.set(t,[]);o.get(t).push(e)}for(const e of o.values()){const{parent:t}=e[0];i=i.then((()=>t.proxy.bundle(e)))}return r=r.map(((r,n)=>t[n].trim().endsWith("=")&&"function"==typeof r?.extendPath?Zt(r,i):tr(e,r,i))),te(t,...r)},render:ee,Hole:Y,get:(t,r="foaf",n=null)=>Qt(t,e.prefixes,r,n,e.extraLDflexHandlers)}},tr=(e,t,r)=>{const n="function"==typeof t?.extendPath,o=t instanceof Promise;return n||o?i=>{const s=i.parentNode;if(s&&s instanceof HTMLElement){if(ee(s,ie.get(t)??e.loader(t)),o&&!n)return t.then((e=>ee(s,te`${e}`)));if(n)return r.then((()=>t.then((async t=>{const r=await(t?.datatype?.id)??"iri",n=await(t?.value);if(!n)return s.innerHTML="";if(!e.dataHandlers[r])throw new Error("Missing data handler: "+r);return ee(s,e.dataHandlers[r](n))})))).catch((t=>{ee(s,e.error(t))}))}}:t};var rr={},nr=rr&&rr.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),or=rr&&rr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ir=rr&&rr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&nr(t,e,r);return or(t,e),t};Object.defineProperty(rr,"__esModule",{value:!0}),rr.defaultHandlers=rr.seriesIterationHandlers=void 0;const sr=ir(i("8RKLF"));rr.seriesIterationHandlers=ir(i("jXnBH")),rr.defaultHandlers=sr,rr.default=sr;const{html:ar,render:ur,Hole:lr,get:cr}=er({loader:e=>{const t=e?.path?.property;return t?ar`<span class="lorem">${"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis a feugiat turpis. Nam bibendum sed nibh et vestibulum. Praesent nibh neque, imperdiet in eleifend vitae, auctor in erat. Vestibulum fermentum consectetur urna, id lacinia neque facilisis sollicitudin. Aenean quis purus tellus. Nunc risus leo, suscipit quis massa nec, hendrerit congue justo.".substring(0,{label:20,deathYear:4,rdfs_comment:1e3}[t]??10)}</span>`:ar`<span class="loader">Loading...</span>`},error:e=>ar``,prefixes:{schema:"https://schema.org/",foaf:"http://xmlns.com/foaf/0.1/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",dbo:"http://dbpedia.org/ontology/",dbr:"http://dbpedia.org/resource/",dbp:"http://dbpedia.org/property/",rdfs:"http://www.w3.org/2000/01/rdf-schema#",friends:"knows",label:"http://www.w3.org/2000/01/rdf-schema#label"},extraLDflexHandlers:{...t(rr)},dataHandlers:{"rdf:langString":e=>e,"xsd:string":e=>e,"xsd:date":e=>new Date(e).toLocaleString("nl",{dateStyle:"short"}),iri:e=>e.includes("mailto:")?ar`<a href=${e}>${e.replace("mailto:","")}</a>`:e}}),fr=e=>cr(e,"dbo","https://dbpedia.org/sparql"),pr=(hr="en",new Oe((e=>`langMatches(lang(${e??""}), '${hr}')`)));var hr;const dr=["Sren_Kierkegaard","Friedrich_Nietzsche","Immanuel_Kant","Plato"].map((e=>{const t=`http://dbpedia.org/resource/${e}`;return[fr(t),t]}));(async()=>{ur(document.body,ar`
    <div class="container pt-5">
    <h1>A demonstration of <a target="_blank" href="https://github.com/danielbeeke/uhtml-ldflex">uHTML-LDflex</a></h1>

    <p>
      What are you seeing <a target="_blank" href="https://github.com/danielbeeke/uhtml-ldflex/blob/master/demo/demo.ts">here</a>?

      <ul>
      <li>uHTML templating engine, that automatically resolves LDflex paths via type specific handlers.</li>
      <li>Multiple calls inside a template are bundled into one query via the preload function of LDflex.</li>
      <li>The query bundling also works for .map(). A custom LDflex handler is written for that use case.</li>
      <li>Promises first show a preloader and then are shown.</li>
      </ul>
    </p>

    <div class="row row-cols-1 row-cols-md-4 g-4">
      ${dr.map((([e,t])=>ar`
      <div class="col">
        <div class="card">
          <img onload=${e=>{e.target.classList.add("loaded");const t=e.target.closest(".card").querySelectorAll(".lorem");for(const e of t)e.classList.remove("lorem")}} src=${e.thumbnail} class="card-img-top" alt=" ">
          <div class="card-body">
            <h5 class="card-title">
              <span>${e.label(pr)}</span>
            </h5>
            <span>${e.deathYear}</span>
          
            <p class="card-text truncate">${e.rdfs_comment(pr)}</p>
          </div>
          
          <ul class="list-group list-group-flush" style="border-top: none;">
          <li class="list-group-item"><em class="text-muted">Works:</em></li>
          </ul>
        
          <ul class="list-group list-group-flush" style="height: 200px; border-top: none; background-color: white; overflow-y: scroll;">
          
          ${e["^dbo:author"].label(pr).map((e=>ar`
            <li class="list-group-item">
              <span>${e.value}</span>
            </li>`))}
          </ul>

          <div class="card-footer">
            <a href=${t} target="_blank" class="btn btn-primary float-end">Read more</a>
          </div>      

        </div>
      </div>
      `))}
    </div>

  </div>
  `)})();
//# sourceMappingURL=index.d8a387af.js.map
